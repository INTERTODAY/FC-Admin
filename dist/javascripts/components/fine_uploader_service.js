"use strict";window.define(["jquery","axios","fineUploader","text!../../fine_uploader.html"],function(t,e,o,n){function i(t){l=this,l.extendOptions(t),l.init()}var l,p;return i.prototype={options:{},extend:function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},extendOptions:function(t){this.options=this.extend({},this.options),this.extend(this.options,t)},init:function(){l.getUploadInfo()},getUploadInfo:function(){e.get("/api/v1/fineuploader/token").then(function(t){var e=t.data.uploadInfo;e&&(l.options.uploadUrl=e.uploadUrl.replace("v4","cdnovp"),l.options.uploadCancelUrl=e.uploadCancelUrl,l.options.token=e.token,l.setFineUploader())})},setFineUploader:function(){t("#uploader-template").append(n),p=new o.FineUploader({element:document.getElementById(l.options.el),autoUpload:!1,multiple:l.options.mutiple,cors:{allowXdr:!0,expected:!0},validation:{allowedExtensions:["avi","mp4"],itemLimit:3,stopOnFirstInvalidFile:!0},request:{endpoint:l.options.uploadUrl,inputName:"videofile",paramsInBody:!1,params:{token:l.options.token,folder:"/dev",target_path:"/dev"}},callbacks:{onComplete:function(t,e,o,n){console.log(o)}}}),o(document.getElementById("upload-button")).attach("click",function(){p.uploadStoredFiles()})}},i});
//# sourceMappingURL=../../maps/components/fine_uploader_service.js.map
