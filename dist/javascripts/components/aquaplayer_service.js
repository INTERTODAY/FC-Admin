"use strict";window.define(["common","text!../../../nplayer_wrapper.html","axplugin","nplayer","nplayer_ui","cdnproxy","nplayer_conf"],function(e,n,i){function t(e){d=this,d.extendOptions(e),d.init()}var a,o,d=null,l=l||window.$;return t.prototype={options:{},extend:function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e},extendOptions:function(e){this.options=this.extend({},this.options),this.extend(this.options,e)},init:function(){d.getEncodedParam(),d.resize()},initPlayer:function(){"ActiveXObject"in window?d.initPlayerWindow():d.initPlayerHTML()},initPlayerHTML:function(){o=new window.NPlayer("video",{controlBox:"nplayer_control.html",visible:!1,mode:"html5"}),window.player=o,window.initNPlayerUI(o),o.bindEvent("Ready",function(){d.reportMessage("ready"),window.proxy_init(function(){window.setPlayerStart(!0),window.setNPlayer(o),window.mygentAuthCall(function(e){window.setMediaInfo(d.options.fileUrl,e);var n=window.getMediaURL(!1);o.open({URL:window.encodeURI(n)})},a)},window.indicateInstall,window.indicateUpdate)}),o.bindEvent("OpenStateChanged",function(e){switch(d.reportMessage("OpenStateChanged"),e){case window.NPlayer.OpenState.Opened:o.setVisible(!0),window.starthtml5State();break;case window.NPlayer.OpenState.Closed:window.Stophtml5State(window.NPlayer.OpenState.Closed)}}),o.bindEvent("PlayStateChanged",function(e){switch(d.reportMessage("PlayStateChanged"),e){case window.NPlayer.PlayState.Playing:o.setVisible(!0);break;case window.NPlayer.PlayState.Stopped:o.setVisible(!1);break;case window.NPlayer.PlayState.Paused:o.setVisible(!0)}}),o.bindEvent("GuardCallback",function(e,n){d.reportMessage("GuardCallback - "+e+" : "+n)}),o.bindEvent("Error",function(e){d.reportMessage("Error - "+e)})},initPlayerWindow:function(){o=new window.NPlayer("video",{controlBox:"nplayer_control.html",visible:!1,mode:"html5"}),window.player=o,window.initNPlayerUI(o),o.bindEvent("Ready",function(){d.reportMessage("Ready"),o.setCDNAuthParam(a),o.addContextMenu("SystemInfo","sysinfo"),console.log(d.options.fileUrl),o.open({URL:encodeURI(d.options.fileUrl)})}),o.bindEvent("OpenStateChanged",function(e){switch(d.reportMessage("OpenStateChanged"),e){case window.NPlayer.OpenState.Opened:o.setVisible(!0);break;case window.NPlayer.OpenState.Closed:}}),o.bindEvent("PlayStateChanged",function(e){switch(d.reportMessage("PlayStateChanged"),e){case window.NPlayer.PlayState.Playing:if(o.setVisible(!0),!0===i.isDup){o.stop(),window.alert(window.NPLAYER_DUP_MSG);break}!0===setAxPlugin&&(window.AquaAxPlugin.PlayState=window.NPlayer.PlayState.Playing,window.AquaAxPlugin.OpenStateChange());break;case window.NPlayer.PlayState.Stopped:o.setVisible(!1);break;case window.NPlayer.PlayState.Paused:o.setVisible(!0),!0===setAxPlugin&&(window.AquaAxPlugin.PlayState=window.NPlayer.PlayState.Paused,window.AquaAxPlugin.OpenStateChange())}}),o.bindEvent("GuardCallback",function(e,n){!0===setAxPlugin&&window.AquaAxPlugin.SendPVLog(e,n)}),o.bindEvent("Error",function(e){l("#video").css("background-image","none")}),o.bindEvent("ContextMenu",function(e){"sysinfo"===e&&!0===setAxPlugin&&(window.AquaAxPlugin.LoadSystemInfomation(),window.alert("CPU 정보 : "+window.AquaAxPlugin.DeviceCPU+"\nMEM 정보 : "+window.AquaAxPlugin.DeviceMem+"\nGPU 정보 : "+window.AquaAxPlugin.DeviceGPU+"\n\nIP 정보 : "+window.AquaAxPlugin.DeviceIP+"\nMac 정보 : "+window.AquaAxPlugin.DeviceMac+"\nOS 정보 : "+window.AquaAxPlugin.DeviceOSDesc+"\n해상도 정보 : "+window.AquaAxPlugin.DeviceMonitor+"\nIE 버전 : "+window.AquaAxPlugin.DeviceIE+"\n"))}),window.onunload=function(){!0===setAxPlugin&&window.AquaAxPlugin.FinalizeAuth()}},getEncodedParam:function(){window.axios.get("/api/v1/player/encparam").then(function(e){a=e.data.encparam,d.reportMessage(a),d.initPlayer()}).catch(function(e){d.reportError(e)})},reportMessage:function(e){console.log("aquaservice : "+e)},reportError:function(e){console.log("aquaservice : "+e)},resize:function(){l(window).resize(function(){o&&o.getFullscreen()?l("#video").height(l(window).height()):l("#video").height(l(window).height()-l(".wrapper_foot").height())})}},t});
//# sourceMappingURL=../../maps/components/aquaplayer_service.js.map
