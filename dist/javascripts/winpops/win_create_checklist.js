"use strict";requirejs(["common"],function(t){var e=$("#table_checklist");$(function(){e.find("tr:first-child").not("thead tr").find('input[name="item"]').focus(),e.find("tbody").sortable({items:"tr:not(:first)",placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999,start:function(t,e){$(this).attr("data-previndex",e.item.index())},update:function(t,e){$(this).removeAttr("data-previndex")}})}),e.on("click",".additem",function(t){var i=$(this).closest(".item"),n=i.find('input[name="category"]'),a=i.find('input[name="item"]'),o=i.find(".itemtype"),d=i.find(".sample");if("write"!==o.val()&&""===n.val())return window.alert("분류를 입력하세요."),n.focus(),!1;if(""===a.val())return window.alert("항목을 입력하세요."),a.focus(),!1;var r=i.clone();r.find(".itemtype").val(o.val()),r.find(".additem").hide(),r.find(".removeitem").show(),e.find("tbody").find("tr:last").after(r),o.val("select"),n.show(),d.show(),a.val(""),a.focus()}),e.on("click",".removeitem",function(){var t=$(this).closest(".item");window.confirm("삭제하시겠습니까?")&&t.remove()}),e.on("change",".itemtype",function(t){var e=$(this).closest(".item"),i=$(this),n=e.find('input[name="item"]'),a=e.find('input[name="category"]'),o=e.find(".sample");switch(i.val()){case"write":a.hide(),o.hide();break;default:a.show(),o.show()}n.select()}),e.on("keypress",".inputitem",function(t){if(13==t.which){var e=$(this).parent().closest(".item");0===e.index()&&e.find(".additem").click()}})});