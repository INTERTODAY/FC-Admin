"use strict";window.requirejs(["common"],function(i){var t=window.$("#table_checklist"),n=window.$("#regist-quiz");window.$(function(){t.find("tr:first-child").not("thead tr").find('input[name="item"]').focus(),t.find("tbody").sortable({items:"tr:not(:first)",placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999,start:function(i,t){window.$(this).attr("data-previndex",t.item.index())},update:function(i,t){window.$(this).removeAttr("data-previndex"),e()}})}),t.on("click",".additem",function(i){var n=window.$(this).closest(".item"),e=n.find('input[name="category"]'),o=n.find('input[name="item"]'),a=n.find(".itemtype"),d=n.find(".sample");if("write"!==a.val()&&""===e.val())return window.alert("분류를 입력하세요."),e.focus(),!1;if(""===o.val())return window.alert("체크사항을 입력하세요."),o.focus(),!1;var r=n.clone();r.find(".itemno").html(t.find("tr").not(":first").length),r.find("#item").attr("placeholder",""),r.find(".itemtype").val(a.val()),r.find(".additem").hide(),r.find(".removeitem").show(),t.find("tbody").find("tr:last").after(r),a.val("select"),e.show(),d.show(),o.val(""),o.focus()}),t.on("click",".removeitem",function(){var i=window.$(this).closest(".item");window.confirm("삭제하시겠습니까?")&&i.remove()}),t.on("change",".itemtype",function(i){var t=window.$(this).closest(".item"),n=window.$(this),e=t.find('input[name="item"]'),o=t.find('input[name="category"]'),a=t.find(".sample");switch(n.val()){case"write":o.hide(),a.hide();break;default:o.show(),a.show()}e.select()}),t.on("keypress",".inputitem",function(i){if(13===i.which){var t=window.$(this).parent().closest(".item");0===t.index()&&t.find(".additem").click()}}),n.on("click",function(){var i=[],n=t.find("tr").not(":first"),e=window.$("input[name=title]");if(""===e.val().trim())return window.alert("대표제목을 입력하세요."),e.focus(),!1;n.each(function(t,n){if(0===t)return!0;var e=window.$(n),o=e.data("id"),a=e.find(".itemtype"),d=e.find('input[name="item"]'),r=e.find('input[name="category"]'),l=e.find('input[name="sample"]');return""===d.val()?(window.alert("체크사항을 입력하세요."),d.focus(),!1):"select"!==a.val()&&"choose"!==a.val()||""!==l.val()?void i.push({id:o,item_name:d.val(),item_type:a.val(),item_section:function(){return"write"!==a.val()?r.val():""}(),sample:function(){return"write"!==a.val()?l.val():""}(),order:t}):(window.alert("보기를 입력하세요."),l.focus(),!1)}),window.axios.post("/course/checklist",{course_id:window.$("input[name=course_id]").val(),course_list_id:null,checklist_group_id:null,order:null,title:window.$("input[name=title]").val(),data:i}).then(function(i){window.alert("자료를 입력하였습니다."),o()}).catch(function(i){console.error(i)})});var e=function(){t.find("tr").not(":first").each(function(i,t){if(0===i)return!0;window.$(t).find(".itemno").html(i)})},o=function(){window.parent.opener.location.reload(),window.close()}});
//# sourceMappingURL=../../maps/winpops/win_create_checklist.js.map
