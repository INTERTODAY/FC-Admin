"use strict";window.requirejs(["common","Vimeo","fineUploaderService"],function(e,i,o){function a(){var e=r("#video-title"),i=r("#video-code");return e.val()?!!i.val()||(alert("비디오 코드를 입력하세요."),i.focus(),!1):(alert("비디오 강좌명을 입력하세요."),e.focus(),!1)}function n(){var e=r("#video-code").val(),i=r("#video-provider").val(),o=r("#video-player");if(!e)return!1;switch(i){case"YOUTUBE":o.html('<iframe width="100%" height="600" src="https://www.youtube.com/embed/'+e+'"frameborder="0" allowfullscreen></iframe>');break;case"VIMEO":o.html('<iframe src="https://player.vimeo.com/video/'+e+'"?title=0&byline=0&portrait=0" width="100%" height="600" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}}var r=r||window.$,t=r("#regist-video"),d=r("#uploadVideo"),l=r("#play-video"),c=r("#video-provider"),s=r(".aquaplayer-settings"),u=r(".vimeo-settings"),v=r("#aquaplayer_frame"),w=e.initDataTable(r("#table_add_video"),{buttons:[]}),f=r("#btnApplyVideo");window.$(function(){}),f.bind("click",function(i){i.preventDefault();var o=r("input:first:checked",w.rows({search:"applied"}).nodes()).data();void 0!==o?window.confirm("적용하시겠습니까?")&&(r("#addVideo").modal("hide"),r("#aqua-video-name").val(o.url),v.attr("src","/api/v1/aqua?os="+e.getOSName()+"&video_id="+o.id)):window.alert("비디오를 선택하세요.")}),c.on("change",function(){var e=r(this).val();"VIMEO"===e?(u.removeClass("blind"),s.addClass("blind"),r(".video-preview").addClass("blind")):"AQUA"===e&&(s.removeClass("blind"),u.addClass("blind"),r(".video-preview").removeClass("blind"))}),d.on("click",function(){o=new o({el:"my-uploader",multiple:!1})}),r("#video-code").bind("keypress",function(e){13===(e.which||e.keyCode)&&n()}),l.bind("click",function(e){n()}),t.bind("click",function(e){if(e.preventDefault(),!a())return!1;if(!window.confirm("저장하시겠습니까?"))return!1;var i=r("form").serialize();r.ajax({url:r("form").attr("action"),type:"POST",data:i,contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"html",success:function(e){window.alert("비디오를 저장하였습니다."),window.parent.opener.winpop_listener(!0),_confirm=!1,window.close()}})}),window.onbeforeunload=function(e){}});
//# sourceMappingURL=../../maps/winpops/win_create_video.js.map
