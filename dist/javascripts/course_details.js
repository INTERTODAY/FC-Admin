"use strict";requirejs(["common"],function(t){function e(t){axios.delete("/course/courselist",{params:t}).then(function(t){t.data.success?(alert("세션을 삭제하였습니다."),location.reload()):alert("진행한 이력이 있어 세션을 삭제하지 못했습니다. 관리자에게 문의해주시기 바랍니다.")}).catch(function(t){console.log(t)})}function i(t){return axios({method:"put",url:"/course/courselist",data:{title:t.children().children("a").data("title"),course_list_id:t.children().children("a").data("id"),course_list_order:t.index()}})}function o(){for(var t=[],e=$(".session-list"),o=0;o<e.length;o++)t.push(i($(e[o])));axios.all(t).then(function(t){t.forEach(function(t){})})}var a="scrollbars=yes, toolbar=no, location=no, status=no, menubar=no, resizable=yes, width=1040, height=760, left=0, top=0",r=$(".btn-watch-video"),c=$(".btn-solve-quiz"),n=$(".btn-create-video"),s=$(".btn-create-quiz"),d=$(".btn-create-final"),u=$(".btn-create-checklist"),l=$(".btn-delete-session"),p=$(".btn-modify-session"),h=$("#btnDeleteCourse");$(function(){$(".course-session").sortable({placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999,start:function(t,e){$(this).attr("data-previndex",e.item.index())},update:function(t,e){$(this).removeAttr("data-previndex"),o()}})}),r.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-video-id");t.createWindowPopup("/course/video?id="+i,"Video",a)}),h.bind("click",function(){if(!confirm("삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?"))return!1;var t={course_id:$(this).data("course-id")};axios.delete("/course/deactivate",{params:t}).then(function(t){t.data.success?(alert("강의를 삭제하였습니다."),location.href="/course"):alert("강의를 삭제하였습니다.")}).catch(function(t){console.log(t)})}),n.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/video?course_id="+i,"Video",a)}),c.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-quiz-group"),o=$(this).attr("data-title"),r=$(this).attr("data-type");t.createWindowPopup("/course/quiz?id="+i+"&title="+o+"&type="+r,"Quiz",a)}),s.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/quiz?course_id="+i+"&type=QUIZ","Quiz",a)}),d.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/quiz?course_id="+i+"&type=FINAL","Final",a)}),u.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/checklist?course_id="+i+"&type=CHECK","Checklist",a)}),l.bind("click",function(t){if(t.preventDefault(),!confirm("삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?"))return!1;e({course_list_id:$(this).parent("span").data("course-list-id"),course_list_type:$(this).parent("span").data("type"),quiz_group_id:$(this).data("quiz-group"),video_id:$(this).data("video-id")})}),p.bind("click",function(e){e.preventDefault();var i=$(this).parent("span").data("course-id"),o=$(this).parent("span").data("course-list-id"),r=$(this).data("video-id"),c=$(this).data("quiz-group"),n=$(this).parent("span").data("type");"VIDEO"===n?t.createWindowPopup("/course/modify/video?course_id="+i+"&course_list_id="+o+"&video_id="+r,"Video",a):"QUIZ"===n||"FINAL"===n?t.createWindowPopup("/course/modify/quiz?course_id="+i+"&course_list_id="+o+"&type="+n+"&quiz_group_id="+c,"Quiz",a):"CHECKLIST"===n&&t.createWindowPopup("/course/modify/checklist?course_id="+i+"&course_list_id="+o+"&type="+n+"&quiz_group_id="+c,"Checklist",a)})});