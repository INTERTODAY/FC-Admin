"use strict";requirejs(["common"],function(t){function e(t){axios.delete("/course/courselist",{params:t}).then(function(t){t.data.success?(alert("세션을 삭제하였습니다."),location.reload()):alert("진행한 이력이 있어 세션을 삭제하지 못했습니다. 관리자에게 문의해주시기 바랍니다.")}).catch(function(t){console.log(t)})}function i(t){return axios({method:"put",url:"/course/courselist",data:{title:t.children().children("a").data("title"),course_list_id:t.children().children("a").data("id"),course_list_order:t.index()}})}function a(){for(var t=[],e=$(".session-list"),a=0;a<e.length;a++)t.push(i($(e[a])));axios.all(t).then(function(t){t.forEach(function(t){})})}var o="scrollbars=yes, toolbar=no, location=no, status=no, menubar=no, resizable=yes, width=1040, height=760, left=0, top=0",r=$(".btn-watch-video"),n=$(".btn-solve-quiz"),c=$(".btn-create-video"),s=$(".btn-create-quiz"),d=$(".btn-create-final"),u=$(".btn-delete-session"),l=$(".btn-modify-session"),p=$("#btnDeleteCourse");$(function(){$(".course-session").sortable({placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999,start:function(t,e){$(this).attr("data-previndex",e.item.index())},update:function(t,e){$(this).removeAttr("data-previndex"),a()}})}),r.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-video-id");t.createWindowPopup("/course/video?id="+i,"Video",o)}),p.bind("click",function(){if(!confirm("삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?"))return!1;var t={course_id:$(this).data("course-id")};axios.delete("/course/deactivate",{params:t}).then(function(t){t.data.success?(alert("강의를 삭제하였습니다."),location.href="/course"):alert("강의를 삭제하였습니다.")}).catch(function(t){console.log(t)})}),c.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/video?course_id="+i,"Video",o)}),n.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-quiz-group"),a=$(this).attr("data-title"),r=$(this).attr("data-type");t.createWindowPopup("/course/quiz?id="+i+"&title="+a+"&type="+r,"Quiz",o)}),s.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/quiz?course_id="+i+"&type=QUIZ","Quiz",o)}),d.bind("click",function(e){e.preventDefault();var i=$(this).attr("data-course-id");t.createWindowPopup("/course/create/quiz?course_id="+i+"&type=FINAL","Final",o)}),u.bind("click",function(t){if(t.preventDefault(),!confirm("삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?"))return!1;var i={course_list_id:$(this).parent("span").data("course-list-id"),course_list_type:$(this).parent("span").data("type"),quiz_group_id:$(this).data("quiz-group"),video_id:$(this).data("video-id")};e(i)}),l.bind("click",function(e){e.preventDefault();var i=$(this).parent("span").data("course-id"),a=$(this).parent("span").data("course-list-id"),r=$(this).data("video-id"),n=$(this).data("quiz-group"),c=$(this).parent("span").data("type");"VIDEO"===c?t.createWindowPopup("/course/modify/video?course_id="+i+"&course_list_id="+a+"&video_id="+r,"Video",o):"QUIZ"!==c&&"FINAL"!==c||t.createWindowPopup("/course/modify/quiz?course_id="+i+"&course_list_id="+a+"&type="+c+"&quiz_group_id="+n,"Quiz",o)})});