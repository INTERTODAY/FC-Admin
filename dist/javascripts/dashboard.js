"use strict";requirejs(["common"],function(e){$(function(){e.initDataTable($("#table-point-by-edu"),{columns:[{data:"branch_name",className:"center"},{data:"duty_name",className:"center"},{data:"user_name",className:"center"},{data:"period",className:"center"},{data:"complete",className:"center"},{data:"quiz_correction",className:"center"},{data:"final_correction",className:"center"},{data:"reeltime",className:"center"},{data:"speed",className:"center"},{data:"repetition",className:"center"},{data:"point_total",className:"right"}],order:[[10,"desc"]]}),e.initDataTable($("#table_point"),{order:[[3,"desc"]],buttons:[{text:'<i class="fa fa-copy"></i> 복사',extend:"copy",className:"btn-sm btn-default",exportOptions:{columns:[0,1,2,3]}},{text:'<i class="fa fa-download"></i> 엑셀',extend:"excel",className:"btn-sm btn-default",exportOptions:{columns:[0,1,2,3]}}]})}),$("#select-point-by-edu").change(function(){var e=$(this).val();axios.get("/dashboard/edupoint",{params:{edu_id:e}}).then(function(e){var t=e.data.data,a=$("#table-point-by-edu").DataTable();a.clear().draw(),a.rows.add(t),a.columns.adjust().draw()}).catch(function(e){console.error(e)})}),$("#modal-point-details").on("show.bs.modal",function(e){axios.get("/dashboard/point/details",{params:{user_id:$(e.relatedTarget).data("user-id")}}).then(function(e){$("#table_point_details > tbody ").html("");for(var t=e.data.list,a="",n=0;n<t.length;n++){a="<tr>",a+="<td>"+t[n].edu_name+"</td>",a+='<td class="center">'+t[n].edu_start_dt+" ~ "+t[n].edu_end_dt+"</td>",a+='<td class="center">'+t[n].complete.complete_course_count+" / "+t[n].complete.total_course_count+"</td>",a+='<td class="center">'+t[n].quiz_correction.correct_count+" / "+t[n].quiz_correction.total_count+"</td>",a+='<td class="center">'+t[n].final_correction.correct_count+" / "+t[n].final_correction.total_count+"</td>",a+='<td class="center">'+t[n].reeltime.played_seconds+" / "+t[n].reeltime.duration+"</td>",a+='<td class="center">'+t[n].speed.user_period+" / "+t[n].speed.edu_period+"</td>",a+='<td class="center">'+(1==t[n].repetition.value?"예":"아니오")+"</td>";var c=t[n].complete.value*t[n].point_complete+t[n].quiz_correction.value*t[n].point_quiz+t[n].final_correction.value*t[n].point_final+t[n].reeltime.value*t[n].point_reeltime+t[n].speed.value*t[n].point_speed+t[n].repetition.value*t[n].point_repetition;a+='<td class="center">'+c.toFixed(2)+"</td>",a+="</tr>",$("#table_point_details > tbody ").append(a)}}).catch(function(e){console.error(e)})})});