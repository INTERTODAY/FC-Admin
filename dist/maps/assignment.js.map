{"version":3,"sources":["assignment.js"],"names":["requirejs","Util","tableCheckAll","$","tableEmployee","initDataTable","lengthMenu","columnDefs","btnSubmit","targets","bind","rows","nodes","prop","this","checked","e","preventDefault","focus","alert","currentTabId","children","attr","data","val","filter","map","join","get","document","getElementById","files","formUpload","submit"],"mappings":"AAGA,YACAA,YAAY,UAAZA,SAAUC,GAER,GAAIC,GAAgBC,EAAE,cAElBC,EAAgBH,EAAKI,cAAcF,EAAE,oBACvCG,aAAgB,EAAI,GAAI,GAAI,IAAZ,IAAqB,EAAI,GAAI,GAAI,GAAI,OACrDC,aAGEC,WAAYL,EAAEM,SAAlB,OAAID,EAAYL,EAAE,eAGlBD,EAAcQ,EAAK,mBAElBR,GAFDQ,KAAA,QAAA,WACEP,EAAE,YAAaC,EAAcO,OAAOC,SAASC,KAAK,UAAWC,KAAKC,WAGpEP,EAAUE,KAAK,QAAS,SAAUM,GAK9Bb,GAFFa,EAAAC,iBAEE,KAAEd,EAAA,4BAA8Be,MAChC,MAAAC,OAAA,eACDhB,EAAA,4BAAAe,SADQ,CAMPf,IAAA,KAAEA,EAAA,+BAAiCe,MACnC,MAAAC,OAAA,iBACDhB,EAAA,+BAAAe,SADQ,CAGT,IAAIE,GAAejB,EAAE,oBAAoBkB,WAAWC,KAAK,MAGvDC,EAAA,IAGe,QADjBpB,EAAA,6BAAAqB,IAAAJ,GACiBA,GACfG,IAAAA,WAMEJ,KALAI,EAAApB,EAAA,oBAAAC,EAAAO,MAAAc,OAAA,YAAAb,SAAAc,IAAA,WACD,MAFMvB,GAEEwB,MAAKJ,KAFd,QAEGK,MAAMD,KAAK,OAMb,MADCR,OAAA,eACD,CAGDhB,GAAA,qCAAAqB,IAAAD,EAAA,MAEY,KAAA,QACZ,GAAI,IAAJM,SAAIA,eAASC,mBAATC,MAA2CA,OAG7C,MAFA5B,GAAAA,oBAAAe,QACAC,MAAAA,cACA,EAQJa,EAAWC","file":"assignment.js","sourcesContent":["/**\n * Created by yijaejun on 30/11/2016.\n */\n'use strict';\nrequirejs([ 'common' ],\nfunction (Util) {\n  var tableCheckAll = $('#check-all');\n  // var tableAssignment = Util.initDataTable($('#table_assignment'))\n  var tableEmployee = Util.initDataTable($('#table_employee'), {\n    'lengthMenu': [ [5, 10, 25, 50, -1], [5, 10, 25, 50, '전체'] ],\n    'columnDefs': [\n      { orderable: false, targets: [0] }\n    ]});\n  var btnSubmit = $('.btn-submit');\n  var formUpload = $('#frm_upload_file');\n\n  tableCheckAll.bind('click', function () {\n    $(':checkbox', tableEmployee.rows().nodes()).prop('checked', this.checked);\n  });\n\n  btnSubmit.bind('click', function (e) {\n    e.preventDefault();\n\n    if ($('input[name=\\'group_name\\']').val() === '') {\n      alert('그룹명을 입력하세요.');\n      $('input[name=\\'group_name\\']').focus();\n      return false;\n    }\n\n    // validation check2\n    if ($('textarea[name=\\'group_desc\\']').val() === '') {\n      alert('그룹 설명을 입력하세요.');\n      $('textarea[name=\\'group_desc\\']').focus();\n      return false;\n    }\n\n    var currentTabId = $('ul.nav li.active').children().attr('id');\n    var data = null;\n\n    $('input[name=\\'upload_type\\']').val(currentTabId);\n\n    switch (currentTabId) {\n    case 'employee': // 등록된 직원\n      data = $(':checkbox:checked', tableEmployee.rows({filter: 'applied'}).nodes()).map(function () {\n        return $(this).data('id');\n      }).get().join(', ');\n\n        // validation check3\n      if (!data) {\n        alert('직원을 선택하세요.');\n        return false;\n      }\n\n      $('input[name=\\'upload_employee_ids\\']').val(data);\n      break;\n\n    case 'excel': // 파일업로드\n      if (document.getElementById('UploadExcelFile').files.length === 0) {\n        $('#UploadExcelFile').focus();\n        alert('일을 선택하세요.');\n        return false;\n      }\n      break;\n\n    default:\n      break;\n    }\n\n    formUpload.submit();\n  });\n});\n"],"sourceRoot":"/source/"}