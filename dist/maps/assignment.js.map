{"version":3,"sources":["assignment.js"],"names":["window","requirejs","$","tableCheckAll","tableEmployee","Util","initDataTable","lengthMenu","columnDefs","btnSubmit","targets","bind","rows","nodes","prop","this","checked","e","preventDefault","focus","alert","currentTabId","children","attr","data","val","filter","map","join","get","document","getElementById","files","formUpload","submit"],"mappings":"AAGA,YACAA,QAAOC,WAAY,UAAnBD,SAAOC,GAEL,GAAIC,GAAIA,GAAKF,OAAOE,EAChBC,EAAgBD,EAAE,cAElBE,EAAgBC,EAAKC,cAAcJ,EAAE,oBACvCK,aAAgB,EAAI,GAAI,GAAI,IAAZ,IAAqB,EAAI,GAAI,GAAI,GAAI,OACrDC,aAGEC,WAAYP,EAAEQ,SAAlB,OAAID,EAAYP,EAAE,eAGlBC,EAAcQ,EAAK,mBAElBR,GAFDQ,KAAA,QAAA,WACET,EAAE,YAAaE,EAAcQ,OAAOC,SAASC,KAAK,UAAWC,KAAKC,WAGpEP,EAAUE,KAAK,QAAS,SAAUM,GAK9Bf,GAFFe,EAAAC,iBAEE,KAAEhB,EAAA,4BAA8BiB,MAChC,MAAAnB,QAAOoB,MAAP,eACDlB,EAAA,4BAAAiB,SADQ,CAMPjB,IAAA,KAAEA,EAAA,+BAAiCiB,MACnC,MAAAnB,QAAOoB,MAAP,iBACDlB,EAAA,+BAAAiB,SADQ,CAGT,IAAIE,GAAenB,EAAE,oBAAoBoB,WAAWC,KAAK,MAGvDC,EAAA,IAGe,QADjBtB,EAAA,6BAAAuB,IAAAJ,GACiBA,GACfG,IAAAA,WAKExB,KAJAwB,EAAAtB,EAAA,oBAAAE,EAAAQ,MAAAc,OAAA,YAAAb,SAAAc,IAAA,WACD,MAFMzB,GAEE0B,MAAKJ,KAFd,QAEGK,MAAMD,KAAK,OAKb,MADC5B,QAAAoB,MAAO,eACR,CAGDlB,GAAA,qCAAAuB,IAAAD,EAAA,MAEY,KAAA,QACZ,GAAI,IAAJM,SAAIA,eAASC,mBAATC,MAA2CA,OAG7C,MAFA9B,GAAAA,oBAAAiB,QACAnB,OAAAA,MAAOoB,eACP,EAQJa,EAAWC","file":"assignment.js","sourcesContent":["/**\n * Created by yijaejun on 30/11/2016.\n */\n'use strict';\nwindow.requirejs([ 'common' ],\nfunction (Util) {\n  var $ = $ || window.$;\n  var tableCheckAll = $('#check-all');\n  // var tableAssignment = Util.initDataTable($('#table_assignment'))\n  var tableEmployee = Util.initDataTable($('#table_employee'), {\n    'lengthMenu': [ [5, 10, 25, 50, -1], [5, 10, 25, 50, '전체'] ],\n    'columnDefs': [\n      { orderable: false, targets: [0] }\n    ]});\n  var btnSubmit = $('.btn-submit');\n  var formUpload = $('#frm_upload_file');\n\n  tableCheckAll.bind('click', function () {\n    $(':checkbox', tableEmployee.rows().nodes()).prop('checked', this.checked);\n  });\n\n  btnSubmit.bind('click', function (e) {\n    e.preventDefault();\n\n    if ($('input[name=\\'group_name\\']').val() === '') {\n      window.alert('그룹명을 입력하세요.');\n      $('input[name=\\'group_name\\']').focus();\n      return false;\n    }\n\n    // validation check2\n    if ($('textarea[name=\\'group_desc\\']').val() === '') {\n      window.alert('그룹 설명을 입력하세요.');\n      $('textarea[name=\\'group_desc\\']').focus();\n      return false;\n    }\n\n    var currentTabId = $('ul.nav li.active').children().attr('id');\n    var data = null;\n\n    $('input[name=\\'upload_type\\']').val(currentTabId);\n\n    switch (currentTabId) {\n    case 'employee': // 등록된 직원\n      data = $(':checkbox:checked', tableEmployee.rows({filter: 'applied'}).nodes()).map(function () {\n        return $(this).data('id');\n      }).get().join(', ');\n\n      if (!data) {\n        window.alert('직원을 선택하세요.');\n        return false;\n      }\n\n      $('input[name=\\'upload_employee_ids\\']').val(data);\n      break;\n\n    case 'excel': // 파일업로드\n      if (document.getElementById('UploadExcelFile').files.length === 0) {\n        $('#UploadExcelFile').focus();\n        window.alert('파일을 선택하세요.');\n        return false;\n      }\n      break;\n\n    default:\n      break;\n    }\n\n    formUpload.submit();\n  });\n});\n"],"sourceRoot":"/source/"}