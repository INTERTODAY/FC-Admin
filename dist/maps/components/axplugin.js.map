{"version":3,"sources":["components/axplugin.js"],"names":["window","define","getE","L","getElementById","chkObj","log","this","timerid","console","object","checkAquaAxVersion","AX_VERSION","clearInterval","reload","loadAquaAxPlugin","append","NPLAYER_SETUP_URL","AquaAxPlugin","InitAuth","_this","setInterval","setAquaAxPlugin","url","param","authParam","mediaURL","setMegaSubtitle","fontName","fontSize","r","g","b","a","x","y","text","player","setSubtitleFont","setSubtitleColor","setSubtitlePosition","dupPlayerStop","NPLAYER_DUP_MSG","msg","setTimeout","isDup","getPlayerDuration","getDuration","duration","getPlaybackRate","getCurrentPlaybackRate","playbackrate","getCurrentPosition","getCurrentPlaybackTime","pos"],"mappings":"AACA,YACAA,QAAOC,UAAW,WAIhB,QAASC,GAAMC,GAAf,MAASD,UAASE,eAAAD,GAIlB,OAEEE,OAAQ,WAARA,QAAQC,IAAA,UAAAC,KAAYC,QAClBC,IAAAA,GAAQH,EAAI,eAGZG,SAAQH,IAAI,eAAgBH,EAAEO,QAA9BD,QAAQH,IAAIH,EAAAQ,mBAAkBD,OAA9BE,YAAAZ,OAAAY,YACAH,QAAQH,IAAIH,sBAAqBH,KAAOY,SAGpCT,EAAEO,SAAQ,IAARA,EAAAA,mBAAQV,OAAAY,cACZC,cAAMF,KAAAA,SACJE,OAAAA,SAAcC,WAMpBC,iBAAkB,WAGhB,GAHFA,OAAAA,EAAAA,QAAkBC,OAAA,2EAAYhB,OAAAiB,kBAAA,YAAAjB,OAAAY,WAAA,2DAGgB,KAAjCZ,OAAOkB,aAAaC,SAC7BV,MADFA,SAAIH,IAAON,kBACTS,CADF,IAAAW,GAGOb,IACLa,GAAIA,QAAJC,YAAA,WACAD,GAAMZ,GAAAA,EAAUa,KAAAA,eAGVlB,GAAEO,SAAQ,IAARA,EAAAA,mBAAQV,OAAAY,cACZC,cAAMF,EAAAA,SACJE,OAAAA,SAAcO,WAGjB,MAKPE,gBAAiB,SAAUC,EAAKC,GAAhCF,WAAiB,KAAjBA,OAAiBJ,aAAAC,WACfnB,OAAIkB,aAAcA,UAAaC,EAC7BnB,OAAOkB,aAAaO,WACpBzB,OAAOkB,aAAaC,SAApBI,EACAvB,OAAOkB,aAAaQ,aACbR,IAOXS,gBAAiB,SAAUC,EAAUC,EAAUC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,GAAjET,OAAAA,OAAAA,gBAAiBC,EAAUA,GACzB5B,OAAOqC,OAAOC,iBAAgBV,EAAAA,EAAAA,EAAUC,GACxC7B,OAAOqC,OAAOE,oBAAoBR,EAAGC,GACrChC,OAAOqC,OAAOG,gBAAAA,IAIhBC,cAAe,WAAfA,GAAAA,GAAAA,OAAeC,eACb1C,QAAI2C,OAAM3C,OACVA,WAAOqC,WACPO,OAAAA,MAAWD,IACT3C,KACD6C,OAFD,GAMFC,kBAAmB,WAAnBA,GAAAA,GAAAA,OAAmBT,OAAAU,aACjB,OAAIC,UAAW,IAAAhD,IAIjBiD,gBAAiB,WAAjBA,GAAAA,GAAiBjD,OAAAqC,OAAAa,wBACf,OAAIC,UAAe,IAAfA,IAINC,mBAAoB,WAApBA,GAAAA,GAAAA,OAAAA,OAAoBC,wBAClB,OAAIC,UAAM,IAAOjB","file":"components/axplugin.js","sourcesContent":["\n'use strict';\nwindow.define([], function () {\n  // var timerid = 0;\n  // var isDup = false;\n\n  function getE (L) {\n    return document.getElementById(L);\n  }\n\n  return {\n\n    chkObj: function () {\n      console.log('timerid', this.timerid);\n      var L = getE('AquaAxPlugin');\n\n      console.log('AquaAxPlugin', L.object);\n      console.log(L.checkAquaAxVersion(window.AX_VERSION), window.AX_VERSION);\n      console.log('cleared interval : ' + this.timerid);\n\n      if (L.object) {\n        if (L.checkAquaAxVersion(window.AX_VERSION) === true) {\n          clearInterval(this.timerid);\n          window.location.reload();\n        }\n      }\n    },\n\n    loadAquaAxPlugin: function () {\n      window.$('html').append('<OBJECT CLASSID=\"clsid:81C08477-A103-4FDC-B7A6-953940EAD67F\"  codebase=\"' + window.NPLAYER_SETUP_URL + '#version=' + window.AX_VERSION + '\" width=\"0\" height=\"0\" ID=\"AquaAxPlugin\" ></OBJECT>');\n\n      if (typeof window.AquaAxPlugin.InitAuth !== 'undefined') {\n        console.log('plugin loaded');\n        return true;\n      } else {\n        var _this = this;\n        _this.timerid = setInterval(function () {\n          var L = _this.getE('AquaAxPlugin');\n\n          if (L.object) {\n            if (L.checkAquaAxVersion(window.AX_VERSION) === true) {\n              clearInterval(_this.timerid);\n              window.location.reload();\n            }\n          }\n        }, 1000);\n      }\n    },\n\n    setAquaAxPlugin: function (url, param) {\n      if (typeof window.AquaAxPlugin.InitAuth !== 'undefined') {\n        window.AquaAxPlugin.authParam = param;\n        window.AquaAxPlugin.InitAuth();\n        window.AquaAxPlugin.mediaURL = url;\n        window.AquaAxPlugin.OpenMedia();\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    setMegaSubtitle: function (fontName, fontSize, r, g, b, a, x, y, text) {\n      window.player.setSubtitleFont(fontName, fontSize);\n      window.player.setSubtitleColor(r, g, b, a);\n      window.player.setSubtitlePosition(x, y);\n      window.player.setSubtitleText(text);\n    },\n\n    dupPlayerStop: function () {\n      var msg = window.NPLAYER_DUP_MSG;\n      window.player.stop();\n      setTimeout(function () {\n        window.alert(msg);\n      }, 200);\n      isDup = true;\n    },\n\n    getPlayerDuration: function () {\n      var duration = window.player.getDuration();\n      return (parseInt(duration * 1000));\n    },\n\n    getPlaybackRate: function () {\n      var playbackrate = window.player.getCurrentPlaybackRate();\n      return (parseInt(playbackrate * 1000));\n    },\n\n    getCurrentPosition: function () {\n      var pos = window.player.getCurrentPlaybackTime();\n      return (parseInt(pos * 1000));\n    }\n  };\n});\n\n"],"sourceRoot":"/source/"}