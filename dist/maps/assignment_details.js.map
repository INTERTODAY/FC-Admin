{"version":3,"sources":["assignment_details.js"],"names":["requirejs","Util","btnAssignEducation","$","btnDeleteAssignment","formRegistAssignment","formModifyAssignment","initDateTimePicker","find","initDataTable","bind","val","id","group_id","params","then","this","data","res","success","alert","catch","console","log","error","location","href","on","axios","reload","response","form","datetimepicker","children","html"],"mappings":"AAGA,YACAA,YAAW,UAAXA,SAAUC,GAER,GAAIC,GAAqBC,EAAE,yBACvBC,EAAsBD,EAAE,sBACxBE,EAAuBF,EAAE,kBACzBG,EAAuBH,EAAE,oBAE7BA,GAAE,WAEAF,EAAKM,mBAILN,EAAAO,KACEF,aAGFD,EAAAG,KAAA,YAEAP,EAAKQ,mBAZPH,EAAAE,KAAA,aAQIF,EAAqBE,KAAK,YAS5BL,EAAEM,cAAAN,EAAA,8BAFJF,EAAAQ,cAAAN,EAAA,gCAMED,EAAaQ,KAAA,QAAA,WACXP,EAAA,iCAAAQ,IAAAR,EAAA,yBAAAQ,OACDR,EAAA,iCAAAQ,IAAAR,EAAA,8BAAAQ,SAGCC,EAAIF,KAAA,QADO,WAEXG,IAAAA,QAAUV,qBAFZ,OAAA,CAMEW,IAAAA,IADFF,GAGCG,EAAKC,MAAAC,KAAUC,MACdL,SAASI,EAAAA,MAAKE,KAAS,YAGrBC,OAAAA,OAAM,eACPN,OAAAA,IARHC,KAWCM,SAAMH,GACLI,EAAQC,KAAIC,QALVJ,MAAM,oBAPVA,MAAA,oCAiBAK,SAAAC,KAAA,gBAEEL,MAAA,SAAAG,GACDF,QAAAC,IAAAC,OAHHrB,EAAE,6BAA6BwB,GAAG,QAAS,yBAA0B,WASnEC,IAAAA,QAAa,iCAETd,OAAAA,CAIEM,IAAAA,IACDR,GAFDT,EAAAa,MAEOC,KAAA,kBAGPQ,OAAAA,OAASI,uBAGTP,OAAQC,IAtBdR,KAAA,SAAAe,GAcWA,EAASb,KAAKE,QAGjBC,MAAM,kBASZA,MAAA,qBAIAW,SAAUF,WAEVE,MAAA,SAAAP,GACAO,QAAUR,IAAAC,OAPZrB,EAAE,0BAA0BO,KAAK,QAAS,WACxC,GAAIqB,GAAO5B,EAAE,oBAEb4B,GAAKvB,KAAK,kBAAkBG,IAAIR,EAAE,yBAAyBQ,OAC3DoB,EAAKvB,KAAK,kBAAkBG,IAAIR,EAAE,8BAA8BQ,OAChEoB,EAAKvB,KAAK,aAAawB,iBAAiBC,SAAS,SAAStB,IAAIR,EAAEa,MAAMC,KAAK,UAC3Ec,EAAKvB,KAAK,WAAWwB,iBAAiBC,SAAS,SAAStB,IAAIR,EAAEa,MAAMC,KAAK,QACzEc,EAAKvB,KAAK,sBAAsBG,IAAIR,EAAEa,MAAMC,KAAK,mBACjDc,EAAKvB,KAAK,YAAY0B,KAAK/B,EAAEa,MAAMC,KAAK","file":"assignment_details.js","sourcesContent":["/**\n * Created by yijaejun on 30/11/2016.\n */\n'use strict';\nrequirejs(['common'],\nfunction (Util) {\n  var btnAssignEducation = $('.btn-assign-education');\n  var btnDeleteAssignment = $('#delete-assignment');\n  var formRegistAssignment = $('#allocationEdu');\n  var formModifyAssignment = $('#modifyAssignment');\n\n  $(function () {\n    // DateTimePicker 설정\n    Util.initDateTimePicker(\n      formRegistAssignment.find('#start_dt'),\n      formRegistAssignment.find('#end_dt')\n    );\n    Util.initDateTimePicker(\n      formModifyAssignment.find('#start_dt'),\n      formModifyAssignment.find('#end_dt')\n    );\n    // datatable 설정\n    Util.initDataTable($('#table_assignment_details'));\n    Util.initDataTable($('#table_assignment_history'));\n  });\n\n  btnAssignEducation.bind('click', function () {\n    $('#allocationEdu .user_group_id').val($('.description.group_id').val());\n    $('#allocationEdu .bind_group_id').val($('.description.bind_group_id').val());\n  });\n\n  btnDeleteAssignment.bind('click', function () {\n    if (!confirm('교육생 그룹을 삭제하시겠습니까?')) {\n      return false;\n    }\n\n    var params = {\n      id: $(this).data('id'),\n      group_id: $(this).data('group-id')\n    };\n\n    axios.delete('/assignment', {\n      params: params\n    })\n    .then(function (res) {\n      if (!res.data.success) {\n        alert('교육생 그룹을 삭제하지 못했습니다. 관리자에게 문의하세요.');\n      } else {\n        alert('교육생 그룹을 삭제하였습니다.');\n      }\n      location.href = '/assignment';\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  });\n\n  // 배정이력 삭제하기\n  $('#table_assignment_history').on('click', '.btn-delete-assignment', function () {\n    if (!confirm('삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?')) {\n      return false;\n    }\n\n    var params = {\n      id: $(this).data('logassigneduid')\n    };\n\n    axios.delete('/assignment_history',\n      {\n        params: params\n      })\n      .then(function (response) {\n        if (!response.data.success) {\n          alert('배정이력을 삭제하지 못했습니다.');\n        } else {\n          alert('배정이력을 삭제하였습니다.');\n        }\n        location.reload();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  });\n\n  $('.btn-modify-assignment').bind('click', function () {\n    var form = $('#modifyAssignment');\n\n    form.find('.user_group_id').val($('.description.group_id').val());\n    form.find('.bind_group_id').val($('.description.bind_group_id').val());\n    form.find('#start_dt').datetimepicker().children('input').val($(this).data('start'));\n    form.find('#end_dt').datetimepicker().children('input').val($(this).data('end'));\n    form.find('#log_assign_edu_id').val($(this).data('logassigneduid'));\n    form.find('#eduName').html($(this).data('eduname'));\n  });\n});\n"],"sourceRoot":"/source/"}