{"version":3,"sources":["simple-assignment.js"],"names":["window","requirejs","activatedStep","sessionTemplate","getSessionList","refresh","$","sortable","data","connectWith","selectedCourseId","undefined","attr","sessionLoaded","axios","get","update","res","$selectedPanel","find","html","getSessionView","session_list","changeSessionOrder","start","disableSelection","e","ui","this","item","index","console","err","removeAttr","catch","log","val","eduId","then","tableCheckAll","each","edu_course_list","append","getCourseView","navListItems","last","$item","hasClass","activateStep","step","saveStep1Data","nextSelector","currSelector","removeClass","preventDefault","trigger","error","FormData","formData","document","getElementById","files","assignmentId","post","employeeIds","logBindUserId","saveStep2Data","desc","tinymce","activeEditor","getContent","complete_point","trainingEduId","test_point","reeltime_point","reps_point","start_dt","finish_dt","assigment_id","deleteAssignment","upload_employee_ids","edu_id","log_bind_user_id","id","delete","params","response","location","confirm","currentTabId","success","join","href","alert","validateStep1","tableEmployee","rows","filter","nodes","map","$eduDescription","length","$eduName","focus","checked","pointTotal","pointIsValid","parent","children","prop","input","parseInt","sum","session","results","forEach","url","title","course_list_id","course_list_order","$panelGroup","items","promises","addCourse","makeSessionOrderChangeRequest","course_name","$modal","course_desc","teacher_name","target","toggleClass","parents","closest","updateCourse","course_rate","teacher_rate","onModifyCourseModalOpen","submit","execCommand","course_id","replaceWith","modal","relatedTarget","end","setContent","allWells","_","Util","btnDeleteSimpleAssign","btnSaveSimpleAssign","lengthMenu","Handlebars","compile","courseTemplate","columnDefs","windowOption","targets","courseView","sessionView","initDateTimePicker","i","getCourseList","$target","show","activatedPanel","click","toString","on","validateStep2","addClass","updateProgress","debounce","text","createWindowPopup","quizGroupId","toggleIcon","courseId","dataTitle","dataType","courselistType","quiz_group_id","video_id","course_list_type","dataCourseId","dataVideoId","dataQuizGroupId","checklist_group_id","courseListId","remove","dataChecklistGroupId","dataCourseListId","videoId"],"mappings":"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","file":"simple-assignment.js","sourcesContent":["'use strict';\n\nwindow.requirejs([\n  'common',\n  'text!../course.template.html',\n  'text!../session.template.html'\n], function (Util, courseTemplate, sessionTemplate) {\n  var $ = undefined || window.$;\n  var _ = undefined || window._;\n  var assignmentId = $('#assignment_id').val();\n  var activatedStep = $('#activated_step').val();\n  var navListItems = $('ul.setup-panel li a');\n  var allWells = $('.setup-content');\n  var tableCheckAll = $('#check-all');\n  var tableEmployee = Util.initDataTable($('#table_employee'), {\n    'lengthMenu': [ [5, 10, 25, 50, -1], [5, 10, 25, 50, '전체'] ],\n    'columnDefs': [\n      { orderable: false, targets: [0] }\n    ]});\n  var btnDeleteSimpleAssign = $('#js-delete-simple-assign');\n  var btnSaveSimpleAssign = $('#js-save-simple-assign');\n  var courseView = window.Handlebars.compile(courseTemplate);\n  var sessionView = window.Handlebars.compile(sessionTemplate);\n  var windowOption = 'scrollbars=yes, toolbar=no, location=no, status=no, menubar=no, resizable=yes, width=1040, height=760, left=0, top=0';\n\n  $(function () {\n    allWells.hide();\n\n    // DateTimePicker 설정\n    Util.initDateTimePicker(\n      $('.date#start_dt'),\n      $('.date#end_dt')\n    );\n\n    $('ul.setup-panel li').map(function () {\n      let $item = $(this);\n\n      for (var i = 2; i <= activatedStep; i++) {\n        if (i === $item.index() + 1) {\n          activateStep(i);\n        }\n      }\n    });\n\n    if ($('#edu_id').val()) {\n      getCourseList();\n    }\n\n    $('.session-content').sortable();\n    $('.session-content').disableSelection();\n\n    // jquery-ui sortable 설정\n    // $('#course-list').sortable();\n    // $('#course').disableSelection();\n    // $('.session-content').sortable({\n    //   connectWith: '.list-group-item'\n    // }).disableSelection();\n  });\n\n  /**\n   * 윈도우 팝업창에서의 저장 작업 완료 시 호출된다.\n   * @data: 갱신여부를 반환한다. true 일 경우 세션정보를 갱신한다.\n   */\n  window.winpop_listener = function (data) {\n    getSessionList(data);\n  };\n\n  /**\n   * 세션목록 조회\n   * 처음 강의를 열었을 때와 세션정보가 변경되는 경우만 세션 정보를 갱신한다.\n   */\n  function getSessionList (refresh) {\n    var selectedCourseId = $('.panel-group').data('selected-course-id');\n    var $selectedPanel = $('.panel[data-id=' + selectedCourseId + ']');\n\n    if ($selectedPanel.data('metadata').sessionLoaded === undefined || refresh) {\n      window.axios.get('/course/' + selectedCourseId)\n      .then(function (res) {\n        if (res.data) {\n          $selectedPanel.find('.session-content').html(getSessionView({ session_list: res.data.session_list }));\n          $selectedPanel.data('metadata').sessionLoaded = true;\n\n          $('.list-group').sortable({\n            connectWith: '.list-group-item',\n            start: function (e, ui) {\n              $(this).attr('data-previndex', ui.item.index());\n            },\n            update: function (e, ui) {\n              // var newIndex = ui.item.index();\n              // var oldIndex = window.$(this).attr('data-previndex');\n              // window.console.log('newIndex : ' + newIndex + ' oldIndex : ' + oldIndex);\n              $(this).removeAttr('data-previndex');\n              changeSessionOrder();\n            }\n          }).disableSelection();\n        }\n      })\n      .catch(function (err) {\n        console.log(err);\n      });\n    }\n  }\n\n  /**\n   * 강의목록 조회\n   */\n  function getCourseList () {\n    var eduId = $('#edu_id').val();\n\n    window.axios.get('/education/' + eduId + '/courses')\n    .then(function (res) {\n      if (res.data) {\n        // console.log(res.data);\n        $.each(res.data.edu_course_list, function (index, data) {\n          $('#course-list').append(getCourseView(data));\n          $('.panel').last().data('metadata', data);\n        });\n      }\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  tableCheckAll.bind('click', function () {\n    $(':checkbox', tableEmployee.rows().nodes()).prop('checked', this.checked);\n  });\n\n  navListItems.click(function (e) {\n    e.preventDefault();\n    var $target = $($(this).attr('href'));\n    var $item = $(this).closest('li');\n\n    if (!$item.hasClass('disabled')) {\n      navListItems.closest('li').removeClass('active');\n      $item.addClass('active');\n      allWells.hide();\n      $target.show();\n    }\n  });\n\n  if (activatedStep > 1) {\n    var activatedPanel = 'ul.setup-panel li a:eq(' + (activatedStep - 1).toString() + ')';\n    $(activatedPanel).click();\n  } else {\n    $('ul.setup-panel li.active a').trigger('click');\n  }\n\n  function activateStep (step) {\n    var currSelector = 'ul.setup-panel li:eq(' + (parseInt(step) - 1) + ')';\n    var nextSelector = 'ul.setup-panel li a[href=\"#step-' + step + '\"]';\n\n    $(currSelector).removeClass('disabled');\n    $(nextSelector).trigger('click');\n\n    // updateProgress(step);\n  }\n\n  $('.step1 > .next > a').on('click', function (e) {\n    e.preventDefault();\n    if (validateStep1()) {\n      activateStep(2);\n      saveStep1Data();\n    }\n  });\n  $('.step2 > .previous > a').on('click', function (e) {\n    e.preventDefault();\n    activateStep(1);\n  });\n  $('.step2 > .next > a').on('click', function (e) {\n    e.preventDefault();\n    if (validateStep2()) {\n      activateStep(3);\n      saveStep2Data();\n    }\n  });\n  $('.step3 > .previous > a').on('click', function (e) {\n    e.preventDefault();\n    activateStep(2);\n  });\n  $('.step3 > .next > a').on('click', function (e) {\n    e.preventDefault();\n    activateStep(4);\n    // updateProgress(3);\n  });\n  $('.step4 > .previous > a').on('click', function (e) {\n    e.preventDefault();\n    activateStep(3);\n  });\n\n  $('.panel-collapse').on('hide.bs.collapse', function () {\n    $('.panel-collapse-clickable').find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');\n  });\n\n  $('.panel-collapse').on('show.bs.collapse', function () {\n    $('.panel-collapse-clickable').find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');\n  });\n\n  btnDeleteSimpleAssign.on('click', deleteAssignment);\n  btnSaveSimpleAssign.on('click', function () {\n    // updateProgress($('ul.setup-panel li.active').index() + 1);\n    var step = $('ul.setup-panel li.active').index() + 1;\n    switch (step) {\n    case 1:\n      saveStep1Data();\n      break;\n    case 2:\n      saveStep2Data();\n      break;\n    default:\n      break;\n    }\n  });\n\n  function updateProgress (step) {\n    window.axios.post('/simple_assignment/progress', {\n      step: step,\n      id: assignmentId\n    })\n    .then(function (response) {\n      // console.log(response);\n      return true;\n    })\n    .catch(function (error) {\n      console.log(error);\n      return false;\n    });\n  }\n\n  /**\n   * 교육 대상자를 저장한다.\n   */\n  function saveStep1Data () {\n    var formData = new window.FormData();\n    formData.append('upload_type', $('input[name=\\'upload_type\\']').val());\n    formData.append('upload_employee_ids', $('input[name=\\'upload_employee_ids\\']').val());\n    formData.append('file-excel', document.getElementById('UploadExcelFile').files[0]);\n    formData.append('group_name', '간편배정');\n    formData.append('redirect', false);\n    formData.append('id', assignmentId);\n\n    window.axios.post('/assignment/upload', formData)\n      .then(function (res) {\n        // console.log(res.data.employeeIds);\n        if (res.data.employeeIds) {\n          $('input[name=\\'upload_employee_ids\\']').val(res.data.employeeIds);\n          $('input[name=\\'log_bind_user_id\\']').val(res.data.logBindUserId);\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  /**\n   * 교육과정 정보, 포인트 및 교육기간 정보를 저장한다.\n   */\n  function saveStep2Data () {\n    var data = {\n      'name': $('input[name=\\'course_name\\']').val(),\n      'desc': window.tinymce.activeEditor.getContent(),\n      'complete_point': $('input[name=\\'complete_point\\']').val(),\n      'quiz_point': $('input[name=\\'quiz_point\\']').val(),\n      'test_point': $('input[name=\\'test_point\\']').val(),\n      'reeltime_point': $('input[name=\\'reeltime_point\\']').val(),\n      'speed_point': $('input[name=\\'speed_point\\']').val(),\n      'reps_point': $('input[name=\\'reps_point\\']').val(),\n      'start_dt': $('input[name=\\'start_dt\\']').val(),\n      'finish_dt': $('input[name=\\'finish_dt\\']').val(),\n      'assigment_id': assignmentId,\n      'upload_employee_ids': $('input[name=\\'upload_employee_ids\\']').val(),\n      'edu_id': $('#edu_id').val(),\n      'log_bind_user_id': $('#log_bind_user_id').val(),\n      'training_edu_id': $('#training_edu_id').val()\n    };\n\n    window.axios.post('/education', data)\n    .then(function (res) {\n      // console.log(res);\n      if (res.data.trainingEduId) {\n        $('#training_edu_id').val(res.data.trainingEduId);\n      }\n    })\n    .catch(function (err) {\n      console.log(err);\n    });\n  }\n\n  function deleteAssignment () {\n    if (!window.confirm('정말 삭제하시겠습니까?')) return false;\n\n    var params = {\n      id: assignmentId\n    };\n\n    window.axios.delete('/simple_assignment',\n      {\n        params: params\n      })\n      .then(function (response) {\n        if (!response.data.success) {\n          window.alert('배정내역을 삭제하지 못하였습니다.');\n        } else {\n          window.alert('교육과정을 삭제하였습니다.');\n          window.location.href = '/simple_assignment';\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  /**\n   * 1. 교육 대상자 선택\n   */\n  function validateStep1 () {\n    var currentTabId = $('ul.select-employee li.active').children().attr('id');\n    var data = null;\n\n    $('input[name=\\'upload_type\\']').val(currentTabId);\n\n    switch (currentTabId) {\n    case 'employee': // 등록된 직원\n      data = $(':checkbox:checked', tableEmployee.rows({filter: 'applied'}).nodes()).map(function () {\n        return $(this).data('id');\n      }).get().join(', ');\n\n      if (!data) {\n        window.alert('직원을 선택하세요.');\n        return false;\n      }\n\n      $('input[name=\\'upload_employee_ids\\']').val(data);\n      break;\n\n    case 'excel': // 파일업로드\n      if (document.getElementById('UploadExcelFile').files.length === 0) {\n        $('#UploadExcelFile').focus();\n        window.alert('파일을 선택하세요.');\n        return false;\n      }\n      break;\n\n    default:\n      break;\n    }\n\n    return true;\n  }\n\n  /**\n   * 2. 교육과정 입력\n   */\n  function validateStep2 () {\n    var $eduName = $('input[name=\\'course_name\\']');\n    var $eduDescription = window.tinymce.activeEditor.getContent();\n\n    if ($eduName.val() === '') {\n      window.alert('교육과정명을 입력하세요.');\n      $eduName.focus();\n      return false;\n    }\n\n    if ($eduDescription === '') {\n      window.alert('교육과정에 대한 설명을 입력하세요.');\n      window.tinymce.execCommand('mceFocus', false, 'input-course-desc');\n      return false;\n    }\n\n    var pointIsValid = true;\n    var pointTotal = 0;\n    $('.point-item').each(function () {\n      var checked = $(this).parent().find('.input-group-addon').children('input:checkbox').prop('checked');\n      if (checked && $(this).val() === '') {\n        window.alert($(this).prop('placeholder') + ' 포인트 점수를 입력하세요.');\n        $(this).focus();\n        pointIsValid = false;\n        return false;\n      } else {\n        pointTotal += parseInt($(this).val());\n      }\n    });\n\n    // console.log(pointTotal);\n    if (!pointIsValid) return false;\n    if (pointTotal !== 100) {\n      window.alert('포인트의 합계는 100점이 되어야 합니다.');\n      return false;\n    }\n\n    return true;\n  }\n\n  $('.input-group-addon').children('input:checkbox').on('change', function () {\n    var input = $(this).parent().parent().find('.point-item');\n\n    input.prop('disabled', !$(this).prop('checked'));\n\n    if ($(this).prop('checked')) {\n      input.focus();\n    };\n  });\n\n  $('.point-item').on('keyup', _.debounce(function () {\n    var sum = 0;\n    $('.point-item').each(function () {\n      var checked = $(this).parent().find('.input-group-addon').children('input:checkbox').prop('checked');\n      if (checked && $(this).val() !== '') {\n        sum += parseInt($(this).val());\n      }\n    });\n\n    if (sum > 0) {\n      $('.badge').text(sum);\n    }\n\n    if (sum > 100) {\n      window.alert('100점을 초과하였습니다.');\n      return false;\n    }\n  }, 300));\n\n  function getCourseView (data) {\n    return courseView(data);\n  }\n\n  function getSessionView (data) {\n    return sessionView(data);\n  }\n\n  /**\n   * 세션관련정보를 삭제한다.\n   * 주의사항:\n   * 세션과 관련된 일체를 실제 삭제하는 기능이므로, 꼭 필요한 경우에만 사용하도록 할 필요가 있다.\n   * 1. 세션정보(course_list) 삭제\n   * 2. 퀴즈 보기(quiz_option) 삭제\n   * 3. 퀴즈(quiz) 를 삭제한다.\n   * 4. 퀴즈 보기 그룹(quiz_group) 삭제\n   */\n  function deleteSession (params) {\n    window.axios.delete('/course/courselist',\n      {\n        params: params\n      })\n      .then(function (response) {\n        if (!response.data.success) {\n          window.alert('진행한 이력이 있어 세션을 삭제하지 못했습니다. 관리자에게 문의해주시기 바랍니다.');\n        } else {\n          window.alert('세션을 삭제하였습니다.');\n          window.location.reload();\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  /**\n   * DB 에서 세션 순서를 변경한다.\n   */\n  function makeSessionOrderChangeRequest (session) {\n    return window.axios({\n      method: 'put',\n      url: '/course/courselist',\n      data: {\n        title: session.children('a').data('title'),\n        course_list_id: session.children('a').data('id'),\n        course_list_order: session.index()\n      }\n    });\n  }\n\n  /**\n   * 세션순서를 변경한다.\n   */\n  function changeSessionOrder () {\n    var promises = [];\n    var items = window.$('.session-content > .list-group-item');\n\n    for (var index = 0; index < items.length; index++) {\n      promises.push(makeSessionOrderChangeRequest(window.$(items[index])));\n    }\n\n    window.axios.all(promises).then(function (results) {\n      results.forEach(function (response) {\n        console.log(response);\n      });\n    });\n  }\n\n  function toggleIcon (e) {\n    $(e.target)\n      .prev('.panel-heading')\n      .find('.more-less')\n      .toggleClass('glyphicon-plus glyphicon-minus');\n\n    // panel-group 에 현재 편집중인 강의 id 를 입력한다.\n    var $panelGroup = $(e.target).parents().find('.panel-group');\n    var selectedCourseId = $(e.target).parents().closest('.panel').data('id');\n\n    if ($panelGroup.data('selected-course-id') !== selectedCourseId) {\n      $panelGroup.data('selected-course-id', selectedCourseId);\n      getSessionList();\n    }\n  }\n\n  function addCourse () {\n    var $modal = $('#registerCourse');\n    var data = {\n      course_name: $modal.find('input[name=\\'course_name\\']').val(),\n      course_desc: window.tinymce.activeEditor.getContent(),\n      teacher_name: $modal.find('input[name=\\'teacher_name\\']').val(),\n      edu_id: $('#edu_id').val()\n    };\n\n    window.axios.post('/course', data)\n    .then(function (res) {\n      if (res.data) {\n        // console.log(res.data);\n        $('#course-list').append(getCourseView(res.data));\n        $('.panel').last().data('metadata', res.data);\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  function updateCourse () {\n    var $modal = $('#modifyCourse');\n    var selectedCourseId = $('.panel-group').data('selected-course-id');\n    var data = {\n      course_id: selectedCourseId,\n      course_name: $modal.find('input[name=\\'course_name\\']').val(),\n      course_desc: window.tinymce.activeEditor.getContent(),\n      teacher_name: $modal.find('input[name=\\'teacher_name\\']').val(),\n      course_rate: 0,\n      teacher_rate: 0\n    };\n\n    window.axios.put('/course', data)\n    .then(function (res) {\n      if (res.data) {\n        // console.log(res.data);\n        $('.panel[data-id=' + res.data.course_id + ']').replaceWith(getCourseView(res.data));\n        $('.panel[data-id=' + res.data.course_id + ']').data('metadata', res.data);\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  function onModifyCourseModalOpen (e) {\n    var data = $(e.relatedTarget).parents().find('.panel').data('metadata');\n    var $modal = $(this);\n\n    $modal.find('input').val('').end();\n    window.tinymce.activeEditor.setContent('');\n    $modal.find('input[name=\\'course_name\\']').val(data.course_name);\n    $modal.find('input[name=\\'teacher_name\\']').val(data.teacher_name);\n    window.tinymce.get('course_desc').setContent(data.course_desc);\n    $modal.find('[autofocus]').focus();\n  }\n\n  $('#registerCourse').submit(function (e) {\n    e.preventDefault();\n\n    addCourse();\n\n    window.tinymce.execCommand('mceFocus', false, 'course_desc');\n    $(this).modal('toggle');\n  });\n  $('#modifyCourse').submit(function (e) {\n    e.preventDefault();\n\n    updateCourse();\n\n    window.tinymce.execCommand('mceFocus', false, 'course_desc');\n    $(this).modal('toggle');\n  });\n\n  $('.panel-group').on('hidden.bs.collapse', toggleIcon);\n  $('.panel-group').on('shown.bs.collapse', toggleIcon);\n  $('#registerCourse').on('hidden.bs.modal', function () {\n    $(this).find('input').val('').end();\n    window.tinymce.activeEditor.setContent('');\n  });\n  $('#registerCourse').on('shown.bs.modal', function () {\n    $(this).find('[autofocus]').focus();\n  });\n  $('#modifyCourse').on('shown.bs.modal', onModifyCourseModalOpen);\n  // $('#modifyCourse').on('hidden.bs.modal', onModifyCourseModalClose);\n\n  // 비디오 생성하기\n  $('.panel-group').on('click', '.btn-create-video', function (e) {\n    e.preventDefault();\n    var courseId = $(this).attr('data-course-id');\n    Util.createWindowPopup('/course/create/video?course_id=' + courseId, 'Video', windowOption);\n  });\n  // 퀴즈 풀어보기\n  $('.panel-group').on('click', '.btn-create-video', function (e) {\n    e.preventDefault();\n\n    var quizGroupId = $(this).attr('data-quiz-group');\n    var dataTitle = $(this).attr('data-title');\n    var dataType = $(this).attr('data-type');\n\n    Util.createWindowPopup('/course/quiz?id=' + quizGroupId + '&title=' + dataTitle + '&type=' + dataType, 'Quiz', windowOption);\n  });\n  // 퀴즈 생성하기\n  $('.panel-group').on('click', '.btn-create-quiz', function (e) {\n    e.preventDefault();\n\n    var courseId = $(this).attr('data-course-id');\n    Util.createWindowPopup('/course/create/quiz?course_id=' + courseId + '&type=QUIZ', 'Quiz', windowOption);\n  });\n  // 파이널테스트 생성하기\n  $('.panel-group').on('click', '.btn-create-final', function (e) {\n    e.preventDefault();\n\n    var courseId = $(this).attr('data-course-id');\n    Util.createWindowPopup('/course/create/quiz?course_id=' + courseId + '&type=FINAL', 'Final', windowOption);\n  });\n  // 파이널테스트 생성하기\n  $('.panel-group').on('click', '.btn-create-checklist', function (e) {\n    e.preventDefault();\n\n    var courseId = $(this).attr('data-course-id');\n    Util.createWindowPopup('/course/create/checklist?course_id=' + courseId + '&type=CHECK', 'Checklist', windowOption);\n  });\n  // 세션을 삭제한다.\n  $('.panel-group').on('click', '.btn-delete-session', function (e) {\n    e.preventDefault();\n\n    if (!window.confirm('삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?')) {\n      return false;\n    }\n\n    var $self = $(this);\n    var params = {};\n    params.course_list_id = $(this).parent('span').data('course-list-id');\n    params.course_list_type = $(this).parent('span').data('type');\n\n    var courselistType = $(this).parent('span').data('type');\n    switch (courselistType) {\n    case 'QUIZ':\n    case 'FINAL':\n      params.quiz_group_id = $(this).data('quiz-group');\n      break;\n    case 'VIDEO':\n      params.video_id = $(this).data('video-id');\n      break;\n    case 'CHECKLIST':\n      params.checklist_group_id = $(this).data('checklist-group');\n      break;\n    default:\n      break;\n    }\n\n    window.axios.delete('/course/courselist',\n      {\n        params: params\n      })\n      .then(function (response) {\n        if (!response.data.success) {\n          window.alert('진행한 이력이 있어 세션을 삭제하지 못했습니다. 관리자에게 문의해주시기 바랍니다.');\n        } else {\n          window.alert('세션을 삭제하였습니다.');\n          $self.parents('li').remove();\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  });\n\n  // 세션 수정하기\n  $('.panel-group').on('click', '.btn-modify-session', function (e) {\n    e.preventDefault();\n\n    var dataCourseId = $(this).parent('span').data('course-id');\n    var dataCourseListId = $(this).parent('span').data('course-list-id');\n    var dataVideoId = $(this).data('video-id');\n    var dataQuizGroupId = $(this).data('quiz-group');\n    var dataChecklistGroupId = $(this).data('checklist-group');\n    var dataType = $(this).parent('span').data('type'); // VIDEO/QUIZ/FINAL\n\n    if (dataType === 'VIDEO') {\n      Util.createWindowPopup('/course/modify/video?course_id=' + dataCourseId + '&course_list_id=' + dataCourseListId + '&video_id=' + dataVideoId, 'Video', windowOption);\n    } else if (dataType === 'QUIZ' || dataType === 'FINAL') {\n      Util.createWindowPopup('/course/modify/quiz?course_id=' + dataCourseId + '&course_list_id=' + dataCourseListId + '&type=' + dataType + '&quiz_group_id=' + dataQuizGroupId, 'Quiz', windowOption);\n    } else if (dataType === 'CHECKLIST') {\n      Util.createWindowPopup('/course/modify/checklist?course_id=' + dataCourseId + '&course_list_id=' + dataCourseListId + '&type=' + dataType + '&checklist_group_id=' + dataChecklistGroupId, 'Checklist', windowOption);\n    }\n  });\n\n  // 체크리스트 보기\n  $('.panel-group').on('click', '.btn-preview-checklist', function (e) {\n    e.preventDefault();\n    var courseListId = window.$(this).parent('span').data('course-list-id');\n    if (!courseListId) {\n      courseListId = window.$(this).data('id');\n    }\n    Util.createWindowPopup('/course/checklist?course_list_id=' + courseListId, 'Checklist', windowOption);\n  });\n\n  // 퀴즈 풀어보기\n  $('.panel-group').on('click', '.btn-solve-quiz', function (e) {\n    e.preventDefault();\n\n    var quizGroupId = window.$(this).attr('data-quiz-group');\n    var dataTitle = window.$(this).attr('data-title');\n    var dataType = window.$(this).attr('data-type');\n\n    Util.createWindowPopup('/course/quiz?id=' + quizGroupId + '&title=' + dataTitle + '&type=' + dataType, 'Quiz', windowOption);\n  });\n\n  // 비디오 보기\n  $('.panel-group').on('click', '.btn-watch-video', function (e) {\n    e.preventDefault();\n\n    // 비디오 아이디를 추출\n    var videoId = window.$(this).attr('data-video-id');\n    Util.createWindowPopup('/course/video?id=' + videoId, 'Video', windowOption);\n  });\n\n  $('.panel-group').on('click', '.btn-delete-course', function () {\n    if (window.confirm('선택하신 강의를 삭제하시겠습니까?')) {\n      var selectedCourseId = $('.panel-group').data('selected-course-id');\n\n      window.axios.delete('/course/deactivate', { params: { id: selectedCourseId } })\n      .then(function (res) {\n        if (res.data.success) {\n          $('.panel[data-id=' + selectedCourseId + ']').remove();\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  });\n});\n"],"sourceRoot":"/source/"}