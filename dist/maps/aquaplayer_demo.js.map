{"version":3,"sources":["aquaplayer_demo.js"],"names":["window","requirejs","isAccessible","mf","focus","url","open","options","navigator","userAgent","match","alert","option","params","href","encodeURIComponent","Util","launchUri","indicateDownload","NPLAYER_SETUP_URL","confirm","location","start_player","mtype","$","on","launch","left","top","width","height","title","noresize","launch_html5"],"mappings":"YAAAA,QAAOC,WACL,SADFD,gBAME,SAAIE,GAgBFC,QAAGC,GAAHC,GACDL,OAAAM,KAAA,eAAA,cAAA,6GADIF,QAKDJ,QAAAA,GAAaK,EAAAE,GACb,GAAAC,UAAAC,UAAAC,MAAA,YAAAF,UAAAC,UAAAC,MAAA,SAEAV,WAJFA,QAGOW,MAAIH,mBAET,IAAAA,UAAAC,UAAAC,MAAA,YAEAV,WAJKA,QAGAW,MAAIH,mBAET,IAAAA,UAAAC,UAAAC,MAAA,QAAA,WACDV,QAAAW,MAAA,2BAED,IAGAC,GAHIC,EAAS,EAKZ,KAAAD,IAAAL,GADCM,GAAUD,EAAS,IAAML,EAAQK,GAAU,GAK7C,IAAIE,GAAA,oBAA2BD,EAAA,OAAAE,mBAAAV,EAE7B,IAAA,iBAAqBA,QAAK,CAErBL,OAAAM,KAAAD,EAAA,cAAA,6GACLW,YAECA,GAAEC,UAAYH,EAAA,aAAA,WACbI,KAHF,WAKDA,MAmDH,QAASA,KAKKlB,OAAAmB,kBAEXC,QAAA,iDACFpB,OAAAqB,SAAAP,KAAAd,OAAAmB,mBAYD,QAASG,KAGP,GAAKd,EAEJ,IAFDA,UAEWA,UAAUC,MAAUC,YAApBF,UAAuCC,UAAAC,MAAA,SAChDa,EAAQ,UACH,CAAA,IAAAf,UAAAC,UAAAC,MAAA,YAEL,WACDV,QAAAW,MAAA,oBAFCX,GAAOW,UAvIbX,OAAAqB,SAAAP,KAAA,2BAAAS,EAKE,GAAIC,GAAIA,GAAKxB,OAAOwB,CAKnBA,GAFD,WAAAC,GAAA,QAAA,WACEC,EAAO,+DAAgEC,KAAM,EAAGC,IAAK,EAAGC,MAAO,IAAKC,OAAQ,IAAKC,MAAO,cAAeC,SAAU,MAKlJR,EAFD,iBAAAC,GAAA,QAAA,WACEQ,EAAa,kEAKdT,EAFD,iBAAAC,GAAA,QAAA,WACEH","file":"aquaplayer_demo.js","sourcesContent":["window.requirejs([\n  'common',\n  'nplayer_conf'\n],\nfunction (Util) {\n  var $ = $ || window.$;\n  var isAccessible = null;\n\n  $('#launch').on('click', function () {\n    launch('http://cdntech.cdnetworks.co.kr/public/promotion/player.asp', {left: 0, top: 0, width: 900, height: 600, title: 'AquaNPlayer', noresize: 0});\n  });\n\n  $('#launch_html5').on('click', function () {\n    launch_html5('http://eng-media-02.cdngc.net/cdnlab/cs1/tsbox/CSS_1500k.mp4');\n  });\n\n  $('#start_player').on('click', function () {\n    start_player();\n  });\n\n  function launch_html5 (url) {\n    var mf = window.open('/api/v1/aqua', 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n    mf.focus();\n  }\n\n  function launch (url, options) {\n    if ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPad/i))) {\n      window.alert('PC에서만 재생이 가능합니다.');\n      return;\n    } else if (navigator.userAgent.match(/Android/i)) {\n      window.alert('PC에서만 재생이 가능합니다.');\n      return;\n    } else if (navigator.userAgent.match(/Mac/i)) {\n      window.alert('Windows OS에서만 재생이 가능합니다.');\n      return;\n    }\n\n    var params = '';\n    var option;\n\n    for (option in options) {\n      params += option + '=' + options[option] + '&';\n    }\n\n    var href = 'nplayer://launch?' + params + 'url=' + encodeURIComponent(url);\n\n    if ('ActiveXObject' in window) {\n      // old active-x player\n      var mf = window.open(url, 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n      mf.focus();\n    } else {\n      Util.launchUri(href, function () {}, function () {\n        indicateDownload();\n      }, function () {\n        indicateDownload();\n      });\n    }\n  }\n\n  function checkConnection () {\n    /* make sure you host a helloWorld HTML page in the following URL, so that requests are succeeded with 200 status code */\n    var url = 'http://127.0.0.1:8282';\n    $.ajax({\n      url: url,\n      type: 'get',\n      cache: false,\n      dataType: 'jsonp', // it is for supporting crossdomain\n      crossDomain: true,\n      asynchronous: true,\n      jsonpCallback: 'deadCode',\n      timeout: 1500, // set a timeout in milliseconds\n      complete: function (xhr, responseText, thrownError) {\n        if (xhr.status === '200') {\n          isAccessible = true;\n        } else {\n          isAccessible = false;\n        }\n      }\n    });\n  }\n\n  function launch_proxy (url, options) {\n    var params = '';\n    var option;\n\n    checkConnection();\n    if (isAccessible) {\n      var mf = window.open(url, 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n      mf.focus();\n    } else {\n      for (option in options) {\n        params += option + '=' + options[option] + '&';\n      }\n\n      var href = 'aquaweb://launch?' + params + 'url=' + encodeURIComponent(url);\n\n      Util.launchUriTmp(href, function () {\n        var mf = window.open(url, 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n        mf.focus();\n      }, function () {\n        indicateDownload2();\n      }, function () {\n        indicateDownload2();\n      });\n    }\n  }\n\n  function indicateDownload () {\n    var nc_app_url;\n\n    nc_app_url = window.NPLAYER_SETUP_URL;\n\n    if (confirm('동영상을 재생하기 위해서 재생플레이어를 설치하여야 합니다.\\n설치하시겠습니까?')) {\n      window.location.href = window.NPLAYER_SETUP_URL;\n    }\n  }\n\n  function indicateDownload2 () {\n    var nc_app_url;\n\n    nc_app_url = window.AQUAWEBAGENT_SETUP_URL;\n\n    if (cwindow.onfirm('동영상을 재생하기 위해서 AquaWebAgent 설치가 필요합니다.\\n설치하시겠습니까?')) {\n      window.location.href = nc_app_url;\n    }\n  }\n\n  function start_player () {\n    var mtype;\n\n    if ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPad/i))) {\n      mtype = 'iOS';\n    } else if (navigator.userAgent.match(/Android/i)) {\n      mtype = 'Android';\n    } else {\n      window.alert('모바일에서만 재생이 가능합니다.');\n      return;\n    }\n\n    window.location.href = 'mobile/player.asp?mtype=' + mtype;\n  }\n});\n"],"sourceRoot":"/source/"}