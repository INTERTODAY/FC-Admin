{"version":3,"sources":["board.js"],"names":["window","requirejs","$","$fileUpload","Util","initDataTable","fileSize","get","console","files","size","alert","this","val","event","currentTarget","$modal","title","$self","contents","filename","attr","find","tinymce","setContent","id","text","lastIndexOf","substring","html","confirm","response","data","success","location","reload","log","catch","error"],"mappings":"YAAAA,QAAOC,WACL,UAGA,SAAQC,EAAKF,GACb,GAAIG,GAAAA,GAAAA,OAAgBD,EAAhBC,EAAcD,EAAE,QAGlBA,GAAA,WADFE,EAAAC,cAAAH,EAAA,mBAMEC,EAAIG,GAAAA,SAAmBC,WACvBC,GAAAA,GAAYF,EAAAA,MAAZC,IAAA,GAAAE,MAAA,GAAAC,IACAF,SAAIF,IAAAA,GACFN,GAAa,UACbE,OAAAS,MAAY,0BACbT,EAAAU,MAAAC,IAAA,OAKDX,EAAA,eAAgBY,KAAMC,QAAAA,SAAAA,GACtB,GAAMC,GAAShB,EAAAA,EAASe,eAAlBC,EAAShB,OAAOE,EAAE,gBAGlBe,EAAAA,EAAQC,KAAA,WACRC,EAAAA,EAAWD,KAAA,cACXE,EAAWF,EAAMG,KAAK,iBAAtBD,EAAWF,EAAMG,KAAK,gBAG5BL,GAAAM,KAAA,UAAAT,IAAAI,GAEAjB,OAAOuB,QAAQhB,aAAIiB,WAAYA,IAC/BR,OAAOM,QAAKf,IAAA,YAAZiB,WAAAL,GAAAH,EAAOM,KAAK,aAAaT,IAAIY,GAG3BT,IACAA,EAAOM,KAAK,aAAaI,KAAKN,OAA9BJ,wBAA0DW,GAC3DX,EAAAM,KAAA,aAAAI,KAAAN,EAAAQ,UAAAR,EAAAO,YAAA,KAAA,OAKDzB,EAAA,mBAAgBY,KAAMC,QAAR,SAAdD,GACA,GAAME,GAAShB,EAAAA,EAASe,eAAlBC,EAAShB,OAAOE,EAAE,qBAGlBiB,EAAAA,EAAWD,KAAA,cAAXC,EAAWD,EAAMG,KAAK,gBAG5BL,GAAOM,KAAK,gBAAeO,KAAKV,GARlCH,EAAAM,KAAA,eAAAO,KAAAV,KAaEjB,EAAA,eAAY4B,KAAQ,QAAA,SAAAhB,GAClB,IAAAd,OAAO8B,QAAP,iCACD,OAAA,CAGD,IAAML,GAAKP,EAAMG,EAAKN,eAAhBU,EAAKP,EAAMG,KAAK,UAIlBrB,QAAK+B,MAAAA,OAAL,UAA4BN,GAC1BzB,KAAAA,SAAa+B,GACRA,EAAAC,KAAAC,QAGPjC,OAAOkC,MAASC,YAFdnC,OAAOW,MAAM,eAKfH,OAAQ4B,SAARD,WAlBNE,MAAA,SAAAC,GAxDF9B,QAAA4B,IAAAE","file":"board.js","sourcesContent":["window.requirejs([\n  'common'\n],\nfunction (Util, AquaPlayerService) {\n  var $ = $ || window.$;\n  var $fileUpload = $('.file');\n\n  $(function () {\n    // datatable 설정\n    Util.initDataTable($('#table-board'));\n  });\n\n  $fileUpload.on('change', function () {\n    var fileSize = $(this).get(0).files[0].size;\n    console.log(fileSize);\n    if (fileSize >= 2 * 1024 * 1024) {\n      window.alert('2MB 이하의 파일만 업로드 가능합니다.');\n      $(this).val('');\n    }\n  });\n\n  // 정보 수정\n  $('.btn-modify').bind('click', (event) => {\n    const $self = $(event.currentTarget);\n    const $modal = window.$('#updateBoard');\n\n    const id = $self.attr('data-id');\n    const title = $self.attr('data-title');\n    const contents = $self.attr('data-contents');\n    const filename = $self.attr('data-filename');\n\n    $modal.find('#title').val(title);\n    // modal.find('#contents').val(contents);\n    window.tinymce.activeEditor.setContent('');\n    window.tinymce.get('contents').setContent(contents);\n    $modal.find('#board_id').val(id);\n\n    if (filename) {\n      $modal.find('#filename').attr('href', `/api/v1/download?url=${filename}`);\n      $modal.find('#filename').text(filename.substring(filename.lastIndexOf('/') + 1));\n    }\n  });\n\n  // 정보 보기\n  $('.show-board > a').bind('click', (event) => {\n    const $self = $(event.currentTarget);\n    const $modal = window.$('#modal-show-board');\n\n    const title = $self.attr('data-title');\n    const contents = $self.attr('data-contents');\n\n    $modal.find('.modal-title').html(title);\n    $modal.find('.modal-body').html(contents);\n  });\n\n  // 정보 삭제\n  $('.btn-delete').bind('click', (event) => {\n    if (!window.confirm('삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?')) {\n      return false;\n    }\n\n    const $self = $(event.currentTarget);\n    const id = $self.attr('data-id');\n\n    window.axios.delete(`/board/${id}`)\n      .then(function (response) {\n        if (!response.data.success) {\n          window.alert('삭제하지 못했습니다.');\n        } else {\n          window.alert('삭제하였습니다.');\n        }\n        window.location.reload();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  });\n});\n"],"sourceRoot":"/source/"}