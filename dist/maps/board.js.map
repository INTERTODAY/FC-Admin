{"version":3,"sources":["board.js"],"names":["window","requirejs","$","$fileUpload","Util","initDataTable","fileSize","console","get","files","size","alert","this","val","event","currentTarget","$modal","title","$self","contents","attr","find","tinymce","setContent","id","html","confirm","response","data","success","location","reload","log","catch","error"],"mappings":"YAAAA,QAAOC,WACL,UAGA,SAAQC,EAAKF,GACb,GAAIG,GAAAA,GAAAA,OAAgBD,EAAhBC,EAAcD,EAAE,QAGlBA,GAAA,WADFE,EAAAC,cAAAH,EAAA,mBAMEC,EAAIG,OAAa,WACjBC,GAAAA,GAAYD,EAAAA,MAAZE,IAAA,GAAAC,MAAA,GAAAC,IACAH,SAAID,IAAAA,GACFN,GAAa,UACbE,OAAAS,MAAY,0BACbT,EAAAU,MAAAC,IAAA,OAKDX,EAAA,eAAgBY,KAAMC,QAAAA,SAAAA,GACtB,GAAMC,GAAShB,EAAAA,EAASe,eAAlBC,EAAShB,OAAOE,EAAE,gBAGlBe,EAAAA,EAAQC,KAAA,WACRC,EAAAA,EAAWD,KAAA,cAAXC,EAAWD,EAAME,KAAK,gBAG5BJ,GAAAK,KAAA,UAAAR,IAAAI,GAEAjB,OAAOsB,QAAQd,aAAIe,WAAYA,IAC/BP,OAAOK,QAAKb,IAAA,YAAZe,WAAAJ,GAZFH,EAAAK,KAAA,aAAAR,IAAAW,KAiBEtB,EAAA,mBAAgBY,KAAMC,QAAR,SAAdD,GACA,GAAME,GAAShB,EAAAA,EAASe,eAAlBC,EAAShB,OAAOE,EAAE,qBAGlBiB,EAAAA,EAAWD,KAAA,cAAXC,EAAWD,EAAME,KAAK,gBAG5BJ,GAAOK,KAAK,gBAAeI,KAAKN,GARlCH,EAAAK,KAAA,eAAAI,KAAAN,KAaEjB,EAAA,eAAYwB,KAAQ,QAAA,SAAAZ,GAClB,IAAAd,OAAO0B,QAAP,iCACD,OAAA,CAGD,IAAMF,GAAKN,EAAME,EAAKL,eAAhBS,EAAKN,EAAME,KAAK,UAIlBpB,QAAK2B,MAAAA,OAAL,UAA4BH,GAC1BxB,KAAAA,SAAa2B,GACRA,EAAAC,KAAAC,QAGP7B,OAAO8B,MAASC,YAFd/B,OAAOW,MAAM,eAKfJ,OAAQyB,SAARD,WAlBNE,MAAA,SAAAC,GAlDF3B,QAAAyB,IAAAE","file":"board.js","sourcesContent":["window.requirejs([\n  'common'\n],\nfunction (Util, AquaPlayerService) {\n  var $ = $ || window.$;\n  var $fileUpload = $('#file');\n\n  $(function () {\n    // datatable 설정\n    Util.initDataTable($('#table-board'));\n  });\n\n  $fileUpload.change(function () {\n    var fileSize = $(this).get(0).files[0].size;\n    console.log(fileSize);\n    if (fileSize >= 2 * 1024 * 1024) {\n      window.alert('2MB 이하의 파일만 업로드 가능합니다.');\n      $(this).val('');\n    }\n  });\n\n  // 정보 수정\n  $('.btn-modify').bind('click', (event) => {\n    const $self = $(event.currentTarget);\n    const $modal = window.$('#updateBoard');\n\n    const id = $self.attr('data-id');\n    const title = $self.attr('data-title');\n    const contents = $self.attr('data-contents');\n\n    $modal.find('#title').val(title);\n    // modal.find('#contents').val(contents);\n    window.tinymce.activeEditor.setContent('');\n    window.tinymce.get('contents').setContent(contents);\n    $modal.find('#board_id').val(id);\n  });\n\n  // 정보 보기\n  $('.show-board > a').bind('click', (event) => {\n    const $self = $(event.currentTarget);\n    const $modal = window.$('#modal-show-board');\n\n    const title = $self.attr('data-title');\n    const contents = $self.attr('data-contents');\n\n    $modal.find('.modal-title').html(title);\n    $modal.find('.modal-body').html(contents);\n  });\n\n  // 정보 삭제\n  $('.btn-delete').bind('click', (event) => {\n    if (!window.confirm('삭제 시 되돌릴 수 없습니다. 정말 삭제하시겠습니까?')) {\n      return false;\n    }\n\n    const $self = $(event.currentTarget);\n    const id = $self.attr('data-id');\n\n    window.axios.delete(`/board/${id}`)\n      .then(function (response) {\n        if (!response.data.success) {\n          window.alert('삭제하지 못했습니다.');\n        } else {\n          window.alert('삭제하였습니다.');\n        }\n        window.location.reload();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  });\n});\n"],"sourceRoot":"/source/"}