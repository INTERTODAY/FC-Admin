{"version":3,"sources":["winpops/win_aquaplayer.js"],"names":["window","requirejs","Util","controlBox","player","$","resize","NPlayer","visible","encparam","mode","setPlayerStart","then","response","setNPlayer","mygentAuthCall","setMediaInfo","fileURL","proxy_init","open","indicateInstall","indicateUpdate","genkey","bindEvent","getMediaURL","OpenState","state","Opened","setVisible","PlayState","Playing","Closed","Paused","Stopped","console","height","error","getFullscreen"],"mappings":"AAAA,YACAA,QAAOC,WASH,SACA,UACA,aANA,WAQE,gBALJ,SAAUC,GAQNF,GACEG,GADFH,EAAOI,GAAPJ,OAAoBA,CAAwBK,GAA5C,WAFAA,EAAEL,QAAQM,SAEVN,OAAOI,OAAS,GAAIJ,QAAOO,QAAQ,SAQnCP,WAAA,uBAEEQ,SAAIC,EAPJC,KAAM,UAWJV,OAAAA,cAAkBI,GAEhBJ,OAAAA,MAAOW,IAAAA,2BACPC,KAAA,SAAAC,GACAb,GAAAA,GAAOc,EAAWV,KAAlBK,QAEAT,GAAAA,UAAOe,QAAe,WACpBf,QAAAA,IAAOgB,YAAaC,SAPxBjB,OAAOkB,WAAW,WAUdd,OAAOe,gBAAK,GAAAnB,OAAZc,WAAAV,GAIDJ,OAAOoB,eAdV,SAckCC,GAhBpCrB,OAAAgB,aAVS,iEAUTM,EAmBOC,IAAAA,GAAUvB,OAAAwB,aAAoB,EACnCpB,GAAAe,MACKnB,IAAOO,UAAQkB,MAElBzB,IACAA,OAAAoB,gBAAApB,OAAAqB,kBAGAjB,EAAAmB,UAAA,mBAAA,SAAAG,GAPF,OAAAA,GADF,IAAA1B,QAAAO,QAAAkB,UAAAE,OAGIvB,EAAOwB,YAAW,GAStBxB,OAAOmB,iBACL,MACA,KAAKvB,QAAOO,QAAQsB,UAAUC,OAC5B1B,OAAOwB,eAAP5B,OAAAO,QAAAkB,UAAAM,WAKA3B,EAAAmB,UAAA,mBAAA,SAAAG,GAPF,OAAQA,GASR,IAAK1B,QAAOO,QAAQsB,UAAUG,QAC5B5B,EAAOwB,YAAW,EAClB,MAZJ,KAAA5B,QAAAO,QAAAsB,UAAAI,QAnCF7B,EAmDOwB,YAAiB,EACtBM,MA/DJ,KAAAlC,QAAAO,QAAAsB,UAAAG,OAyDQ5B,EAAOwB,YAAW,QActBvB,MAAE,SAAU8B,GACbD,QAAAE,MAAAA,OALH/B,EAAEL,QAAQM,OAAO,WACXF,GAAYA,EAAOiC,gBACrBhC,EAAE,UAAU8B,OAAO9B,EAAEL,QAAQmC,UAE7B9B,EAAE,UAAU8B,OAAO9B,EAAEL,QAAQmC,SAAW9B,EAAE,iBAAiB8B","file":"winpops/win_aquaplayer.js","sourcesContent":["'use strict';\nwindow.requirejs(\n  [\n    'common',\n    'nplayer',\n    'nplayer_ui',\n    'cdnproxy',\n    'nplayer_conf'\n  ],\n  function (Util) {\n    var $ = $ || window.$;\n    var player;\n    var fileURL = 'http://pcst.aquan.dev.edu1004.kr/orangenamu/dev/cdnetworks.mp4';\n\n    $(function () {\n      $(window).resize();\n\n      window.player = new window.NPlayer('video', {\n        controlBox: 'nplayer_control.html',\n        visible: false,\n        mode: 'html5'\n      });\n\n      window.initNPlayerUI(player);\n\n      window.axios.get('/api/v1/player/encparam')\n      .then(function (response) {\n        var encparam = response.data.encparam;\n\n        player.bindEvent('Ready', function () {\n          console.log('player : ', 'ready');\n          window.proxy_init(function () {\n            // 1. video start set\n            window.setPlayerStart(true);\n            // 2. nplayer instance set\n            window.setNPlayer(player);\n            // 4. media info set\n            window.mygentAuthCall(function (genkey) {\n              window.setMediaInfo(fileURL, genkey);\n\n              var url = window.getMediaURL(false);\n              player.open({\n                'URL': encodeURI(url)\n              });\n            }, encparam);\n          }, window.indicateInstall, window.indicateUpdate);\n        });\n\n        player.bindEvent('OpenStateChanged', function (state) {\n          switch (state) {\n          case window.NPlayer.OpenState.Opened:\n            player.setVisible(true);\n            window.starthtml5State();\n            break;\n          case window.NPlayer.OpenState.Closed:\n            window.Stophtml5State(window.NPlayer.OpenState.Closed);\n            break;\n          }\n        });\n\n        player.bindEvent('PlayStateChanged', function (state) {\n          switch (state) {\n          case window.NPlayer.PlayState.Playing:\n            player.setVisible(true);\n            break;\n\n          case window.NPlayer.PlayState.Stopped:\n            player.setVisible(false);\n            break;\n\n          case window.NPlayer.PlayState.Paused:\n            player.setVisible(true);\n            break;\n          }\n        });\n      })\n      .catch(function (error) {\n        console.error(error);\n      });\n    });\n\n    $(window).resize(function () {\n      if (player && !!player.getFullscreen()) {\n        $('#video').height($(window).height());\n      } else {\n        $('#video').height($(window).height() - $('.wrapper_foot').height());\n      }\n    });\n  }\n);\n"],"sourceRoot":"/source/"}