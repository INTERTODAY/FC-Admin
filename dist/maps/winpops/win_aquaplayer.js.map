{"version":3,"sources":["winpops/win_aquaplayer.js"],"names":["window","requirejs","Util","player","controlBox","NPlayer","$","resize","visible","encparam","mode","initNPlayerUI","axios","get","setNPlayer","response","data","setMediaInfo","fileURL","proxy_init","indicateInstall","indicateUpdate","genkey","bindEvent","getMediaURL","state","OpenState","Opened","setVisible","PlayState","Closed","Stopped","catch","console","Paused","height","error","getFullscreen"],"mappings":"AAAA,YACAA,QAAOC,WASH,SACA,UACA,aANA,WAQE,gBALJ,SAAUC,GAQNC,GACEC,GADFD,EAAAA,GAAaH,OAAOK,CAAiBC,GAArC,WAFAA,EAAEN,QAAQO,SAEVJ,EAAS,GAAIH,QAAOK,QAAQ,SAQ5BL,WAAA,uBAEEQ,SAAIC,EAPJC,KAAM,UAWFV,OAAAW,cAAAR,GAEAH,OAAAY,MAAAC,IAAA,2BACFb,KAAAA,SAAOc,GACL,GAAAL,GAAAM,EAAAC,KAAAP,QAEAT,GAAAA,UAAOiB,QAAaC,WAPtBlB,OAAOmB,WAAW,WAUhBhB,OAAAA,gBAAY,GAAAH,OAAZc,WAAAX,GAVFH,OAcCA,eAAOoB,SAAwBC,GAflCrB,OAAAiB,aAVS,iEAUTK,EAkBAnB,IAAOoB,GAAPvB,OAAiBwB,aAAjB,EACErB,GAAQsB,MACLzB,IAAOK,UAAQqB,MAElB1B,IACAA,OAAAoB,gBAAApB,OAAAqB,kBAGAlB,EAAAoB,UAAA,mBAAA,SAAAE,GAPA,OAAAA,GADF,IAAAzB,QAAAK,QAAAqB,UAAAC,OAGExB,EAAOyB,YAAW,GASpBzB,OAAOoB,iBACL,MACF,KAAAvB,QAAKA,QAAOK,UAAQwB,OAClB1B,OAAAA,eAAkBH,OAAlBK,QAAAqB,UAAAI,WAKA3B,EAAAoB,UAAA,mBAAA,SAAAE,GAPA,OAAQA,GASV,IAAAzB,QAAKA,QAAOK,UAAQwB,QAClB1B,EAAAA,YAAOyB,EACP,MAZF,KAAA5B,QAAAK,QAAAwB,UAAAE,QAgBDC,EAAMJ,YAAA,EACLK,MA9DJ,KAAAjC,QAAAK,QAAAwB,UAAAK,OAwDM/B,EAAOyB,YAAW,QAcpBtB,MAAE,SAAU6B,GACbF,QAAAG,MAAAA,OALH9B,EAAEN,QAAQO,OAAO,WACXJ,GAAYA,EAAOkC,gBACrB/B,EAAE,UAAU6B,OAAO7B,EAAEN,QAAQmC,UAE7B7B,EAAE,UAAU6B,OAAO7B,EAAEN,QAAQmC,SAAW7B,EAAE,iBAAiB6B","file":"winpops/win_aquaplayer.js","sourcesContent":["'use strict';\nwindow.requirejs(\n  [\n    'common',\n    'nplayer',\n    'nplayer_ui',\n    'cdnproxy',\n    'nplayer_conf'\n  ],\n  function (Util) {\n    var $ = $ || window.$;\n    var player;\n    var fileURL = 'http://pcst.aquan.dev.edu1004.kr/orangenamu/dev/cdnetworks.mp4';\n\n    $(function () {\n      $(window).resize();\n\n      player = new window.NPlayer('video', {\n        controlBox: 'nplayer_control.html',\n        visible: false,\n        mode: 'html5'\n      });\n\n      window.initNPlayerUI(player);\n\n      window.axios.get('/api/v1/player/encparam')\n      .then(function (response) {\n        var encparam = response.data.encparam;\n\n        player.bindEvent('Ready', function () {\n          window.proxy_init(function () {\n            // 1. video start set\n          window.setPlayerStart(true);\n            // 2. nplayer instance set\n          window.setNPlayer(player);\n            // 4. media info set\n          window.mygentAuthCall(function (genkey) {\n            window.setMediaInfo(fileURL, genkey);\n\n            var url = window.getMediaURL(false);\n            player.open({\n                'URL': encodeURI(url)\n              });\n          }, encparam);\n        }, window.indicateInstall, window.indicateUpdate);\n        });\n\n        player.bindEvent('OpenStateChanged', function (state) {\n          switch (state) {\n        case window.NPlayer.OpenState.Opened:\n          player.setVisible(true);\n          window.starthtml5State();\n          break;\n        case window.NPlayer.OpenState.Closed:\n          window.Stophtml5State(window.NPlayer.OpenState.Closed);\n          break;\n        }\n        });\n\n        player.bindEvent('PlayStateChanged', function (state) {\n          switch (state) {\n        case window.NPlayer.PlayState.Playing:\n          player.setVisible(true);\n          break;\n\n        case window.NPlayer.PlayState.Stopped:\n          player.setVisible(false);\n          break;\n\n        case window.NPlayer.PlayState.Paused:\n          player.setVisible(true);\n          break;\n        }\n        });\n      })\n      .catch(function (error) {\n        console.error(error);\n      });\n    });\n\n    $(window).resize(function () {\n      if (player && !!player.getFullscreen()) {\n        $('#video').height($(window).height());\n      } else {\n        $('#video').height($(window).height() - $('.wrapper_foot').height());\n      }\n    });\n  }\n);\n"],"sourceRoot":"/source/"}