{"version":3,"sources":["common.js"],"names":["window","define","pace","document","widget","require","$","jszip","axios","moment","attr","_","Handlebars","start","$this","hasClass","location","bridge","ui","button","polyfill","bind","val","this","rating","_class","a","b","on","registerHelper","init","editor_selector","fontsize_formats","table_default_styles","cellpadding","cellspacing","editor_deselector","tinymce","mode","height","menubar","plugins","language","toolbar","width","border-color","initDataTable","str","limit","table","length","_options","len","options","getBytes","deferRender","responsive","index","charAt","chr","indexOf","size","initTextEditor","_selector","selector","element","order","buttons","text","extend","className","sInfoFiltered","sLoadingRecords","sProcessing","sSearch","DataTable","oPaginate","sFirst","sLast","createWindowPopup","title","initDateTimePicker","startDt","format","endDt","datetimepicker","defaultDate","date","data","popup","iframe","timer","timeout","open","url","option","cb","add","parent","style","end","browser","e","minDate","navigator","userAgent","isFirefox","uri","successCallback","noHandlerCallback","unknownCallback","isSafari","createHiddenIframe","blurHandler","body","clearTimeout","removeEventListener","callback","timeoutHandler","isChrome","isEdge","match","name","removeHiddenIframe","clearInterval","setTimeout","href","msLaunchUri","close","contentWindow","addEventListener","launchUriTmp","setInterval","createElement","appendChild","isIE","chrome","InstallTrigger","closed"],"mappings":"AAGA,YACAA,QAAOC,QAeH,SACA,QAWA,QAEF,SACE,OACAC,SACEC,aADF,UArBA,YAyBA,2BACA,YACA,iBAvBA,oBA0BAH,oBACAA,gBACAA,gBAvBA,4BAyBEI,uBAvBF,UAyBA,WACAC,YAvBA,cAyBA,eACE,UAGAC,SAAEA,EAAAC,EAAAC,EAAAC,EAA8BC,EAAKC,EAAAC,GA0If,MAhKxBV,GAAKW,OAyBLb,UAAOY,IAQLZ,OAAKc,MAAMC,EACTf,OAAAA,MAAOgB,EACRhB,OAAAS,OAAAA,EAtBHH,EAAEF,OAAOa,OAAO,WAAYX,EAAEY,GAAGC,QAGjCd,QAAQ,eAAee,WA2BpBd,EAAA,wBAAAe,KAAA,QAAA,WALHf,EAAA,uCAAAgB,IAAAhB,EAAAiB,MAAAb,KAAA,iBAjBEJ,EAAE,yCAAyCgB,IAAIhB,EAAEiB,MAAMb,KAAK,mBAyB9DE,EAAAA,8BAA0BF,KAAe,SAAUc,EAAAA,MAAQd,KAAA,eAGvDe,OAAAA,WAAAb,EACDA,EAAUY,eAAcA,WAAlB,SAAgCE,EAAAC,GACrCF,MAAAA,KAASE,IAGVrB,EAFM,0BAEqBkB,GAAAA,QAAY,WAC7BlB,EAAAiB,MAEAR,SAAT,YADKf,OAEIwB,SAAAA,KAAA,kBAIVlB,EAFM,wBAEIsB,GAAiBJ,QAArB,WACIlB,EAAAiB,MAEAR,SAAT,YADKf,OAEIwB,SAAAA,KAAA,wBAIVZ,EAAAiB,eAAA,cAAA,SAAAL,GACD,MAzBF,KAAAA,EAGa,QAyBEM,EAAK,GAAAN,EAAA,IACZ,OACNO,EAAiB,GAFCP,GAAA,IAAA,MAITA,GAJS,KAAAA,EAAA,EAMhB,UAIQA,GAVQ,GAAAA,EAAA,IAWT,MACTA,GAAA,KAAAA,EAAA,EACA,UACAA,GAAA,GAAAA,EAAA,IACA,QACAQ,GAAkB,KAAAR,EAAA,EAClBS,YACWT,GADW,GAAAA,EAAA,IAEpB,OACAU,GAHoB,KAAAV,EAAA,EAIpBW,WAEFC,KAKFpC,OAAAqC,QAAAP,MACAQ,KAAA,qBACAP,gBAAA,SACAQ,OAAA,IACAC,SAAA,EACAC,SACA,iEACA,6CACA,qDAEAC,SAAA,QACAC,QAAA,sLAKAX,iBAAA,oCACAC,sBACAW,MAAA,OACAC,eAAA,OACAX,YAAA,EACAC,YAAA,GAEAC,kBAAA,eAuCEU,SAAAA,SAAeC,EAAAC,GAEb,IADA,GAAIC,GAAQF,EAAZG,OACIC,KAAAA,SAAJJ,GAAAC,GA3BEI,IA6BEC,EAAAA,EAAAA,UAAiB,EAAAD,EAArB,OAIOL,IAENO,SAAA,SAAAP,GACDI,GAAAA,GAASI,CACTJ,IAASK,OAATL,EACA,IAAA,GAAAM,GAAA,EAAAA,EAAAV,EAAAG,OAAAO,IAAA,CACAN,GAAST,GAAAA,OAAWK,EAAAW,OAAAD,KAAA,IAClBE,EAAAC,QAAe,MACfC,GAAS,EAETA,IAIA,MAAAA,IAGAC,eAAA,SAAgBC,EAXEV,GAYlBrD,OAAAqC,QAAaP,MACXkC,SAAUD,KAGVjB,cAAA,SAAamB,EAAAZ,GAJF,GAMbF,KA9DC,OAgEC,OAAAE,EAFOF,EAAAe,QAlBX,EAAA,KA4BIf,EAASgB,EAETC,EAAMb,aAAA,EACNc,EAAAA,YAFkB,EAAAlB,EAKpBT,UACE0B,YAAM,YACNC,MAAQ,4BACRC,WAAW,YARMC,cAUnB,cACEH,aAAM,GACNC,eAFF,IAGEC,YAAW,kBAbbE,gBAAA,SAgBDC,YAAA,SAnCCC,QAAW,MAqCbzB,aAAgB0B,cAnCdC,WAqCFC,OAAA,KA7FGC,MAAA,MA+FLC,MAAAA,KACE/E,UAAiBgF,MAEnBC,OACMC,eAAmBC,YACnBC,gBAAqB,cAGzBvE,EAAMwE,IACJC,oHAIA,MAAAnC,EAAAgB,UACAhB,EAAAgB,UACAC,KAAA,gCACAC,OAAA,OARFC,UAAA,uBAYIe,KAAAA,oCACFE,OADiB,QAEjBJ,UAAQ,uBAFVf,KAAA,qCA9BIC,OAAQ,MAqCZC,UAAA,wBAKQkB,EAAKb,UAAAxB,IAIb4B,kBAAiBU,SAAOC,EAAQC,EAAOC,GAnCvC5F,OAAO6F,KAAKC,EAAKd,EAAOe,IAsCtBd,mBAAkB,SAAlBpE,EAA8BmF,GAC/B,GAAAd,GAAAzE,IAAA0E,SAnCGC,EAAQ3E,IAASwF,IAAI,EAAG,OAuC1BpF,GAAKqF,gBACLR,YAASvF,EACTuF,OAAOS,qBAURC,EAAAf,gBAnCCE,KAAMH,EAqCRiB,OAAU,qBAAVxF,EAAAe,GAAA,YAAA,SAAA0E,GA7BEF,EAAIZ,KAAK,kBAAkBe,QAAQD,EAAEf,QAsCrCc,EAAAA,GAAAA,YAAiB,SAAjBC,GADFzF,EAEO2E,KAAIxF,kBAAkBwG,QAAUC,EAAAA,SAGrCJ,UAAQK,SAARC,EAAAC,EAAAC,EAAAC,GACK,QAEIN,GAAUC,GACA,kBAAXM,IAARf,IAGF,QAAAgB,GAAAd,GACIG,GAAAA,EACF,OAAAY,KAAAA,EAAc9G,SAAA+G,MACZlH,EAAOmH,SAAAA,cAAP,UACAnH,EAAOoH,MAAAA,QAAAA,OACPC,EAAAA,YAAST,GAHXlB,EAVK,GAEID,GAAAC,EAAmB1F,EAAQ4F,EAAAqB,EAAAK,EAAAjB,CA2CpC,IArBAG,GAFKe,UAGIlB,EACTK,WAAA,EACAhB,MAAAA,EACAqB,UAAI,EACFS,QAAA,GAGAhB,UAAUC,UAAAgB,MAAA,UACVpB,EAAMqB,QAAS,EACbL,OAASR,SAAAA,UAATJ,UAAAgB,MAAA,eACDpB,EAAMkB,UAAA,EACL,mBAAST,gBACVT,EAAAK,WAAA,EACO,iBAAA1G,QACR2H,EAAAA,MAAAA,EACDnB,UAAAC,UAAAgB,MAAA,cAfIpB,EAgBIA,UAAJ,GAIDA,EAAAkB,UAAAlB,EAAAmB,OACFP,EAAA,WACAjH,OAAAmH,aAAAvB,GACAH,OAAMzE,oBAAgB,OAAtBiG,GACAI,EAAST,IAETU,EAAA,WACAtH,OAAAoH,oBAAA,OAAAH,GACAtB,EAAQ3F,IAENA,OAAIyF,iBAAczF,OAAO4H,GAC1BhC,EAHD5F,OAAA6H,WAAAP,EAAA,KAIAtH,OAAOsG,SAAGwB,KAAAnB,MACV,IAAAH,UAAAuB,YAEAtC,UAAMuC,YAANrB,EAAAC,EAAAC,OACAQ,IAASR,EAAAA,UAAT,CApBGnB,EAsBAsB,GACL,KAEAtB,EAAOuC,cAAcjH,SAArB8G,KAAAnB,EAnCEU,EAAST,GAqCXK,MAAAA,GAEEjH,EADOmH,8BAAPnH,EAAOmH,KACAC,EAFTN,GAJA,SA/CEO,SAAAnB,GAFFR,IAIOwC,IAAAA,EAAiB/H,SAAQ8G,MAChCrB,EAAAA,YAAiBiC,GACjB7H,EAAOgB,cAwDAkH,IAAAA,EAAAA,KAAiB,CAEzBzC,EAAAzF,OAAA6F,KAAA,GAAA,WAAA,oBApPEJ,EAAAzE,SAAA8G,KAAAnB,CAsPLwB,KAGE1C,EAAS4B,SAATS,KAAuB,cACjBT,EAAAT,GAIAlB,EAAJ1F,OAAAoI,YAAA,WACKlC,EAAL8B,QACS7H,EAAAA,QAASkI,OAATT,cAATjC,IACOQ,KACPD,MAAOoC,GAER7C,EAAAzF,OAAA6F,KAAA,cAAA,YAnCGJ,EAAMuC,QAqCVX,EAASM,QAIPjC,GAASsB,IACVtB,EAAAuC,cAAAjH,SAAA8G,KAAAnB,EAEDN,EAAU,WACRkB,OAAUJ,aADFvB,GAERc,OAAWU,oBAFH,OAAAH,GAGRsB,EAHQ3B,IAKRY,EAAQ,WALVxH,OAAAoH,oBAAA,OAAAH,GA7BII,EAASR,IAsCXR,OAAQmB,iBAAR,OAAAP,GADFrB,EAEW5F,OAAOwI,WAAWhC,EAAA,MAG3BH,aAAQK,SAAYC,EAApBC,EAAAC,EAAAC,GACK,QAEIN,GAAUC,GACA,kBAAXM,IAARf,IAGF,QAAAgB,GAAAd,GACIG,GAAAA,EAKFG,OAJOxF,KAAPkF,EAAuBS,SAAvBO,MACAG,EAAST,SAAAA,cAAT,UAFFlB,EAGWc,MAAAA,QAAUuB,OACnB7B,EAAAoC,YAAA5C,GACAc,EAdK,GAEIf,GAAAC,EAAmB1F,EAAQqG,CA2ChC,IArBAgB,GACDE,UAAM,EACLF,WAASP,EACVyB,MAAA,EATHxB,UAUU,EACRY,QAAAA,GAGFnB,UAAAC,UAAAgB,MAAA,UACAhC,EAAQzF,QAAA,EACFgB,OAAS8G,SAAftB,UAAAC,UAAAgB,MAAA,eACApB,EAAIkB,UAAA,EACF,mBAAAkB,gBACApC,EAAAK,WAAA,EACM1F,iBAAgBhB,QACtBqH,EAAAA,MAAST,EACTJ,UAAAC,UAAAgB,MAAA,cACApB,EAAAU,UAAA,GAIEV,EAAIZ,UAAczF,EAAO4H,OAC1B5H,OAHDgB,SAAA8G,KAAAnB,EAIAU,EAAAT,OACA,IAAAJ,UAAAuB,YAEAtC,UAAMuC,YAANrB,EAAAC,EAAAC,OACAQ,IAASR,EAAAA,UAAT,CApBGnB,EAsBAsB,GACL,KAEAtB,EAAOuC,cAAcjH,SAArB8G,KAAAnB,EACAU,EAAST,GACV,MAAAN,GAnVLe,EAoVG,8BAAAf,EAAAoB,KApVHb,EAmTmBC,GA4Bb,SArCApB,SAAAQ,GACIR,IACFQ,IAAAA,EAAA/F,SAAA+G,MACAxB,EAAOuC,YAAAA,GACPZ,EAAST,cAUN,IAAIP,EAAQkC,KAAM,CAEvB9C,EAAQzF,OAAO6F,KAAK,GAAI,WAAY,oBACpCJ,EAAMzE,SAAS8G,KAAOnB,CACtB,KAGElB,EAAMzE,SAAS8G,KAAO,cACtBT,EAAST,GAITjB,EAAQ3F,OAAOoI,YAAY,WACzB3C,EAAMuC,QACFvC,EAAMiD,QAAQ1I,OAAO4H,cAAcjC,IACtC,KACH,MAAOW,GAEPb,EAAQzF,OAAO6F,KAAK,cAAe,YACnCJ,EAAMuC,QACNX,EAASR,QAIXnB,GAASsB,IACTtB,EAAOuC,cAAcjH,SAAS8G,KAAOnB,EACrCU,EAAST","file":"common.js","sourcesContent":["/**\n * Created by yijaejun on 30/11/2016.\n */\n'use strict';\nwindow.define(\n  [\n    'jquery',\n    'jszip',\n    'axios',\n    'moment',\n    'pace',\n    'lodash',\n    'handlebars',\n    'tinymce',\n    'bootstrap',\n    'bootstrap_datetimepicker',\n    'jquery-ui',\n    'datatables.net',\n    'datatables.net-bs',\n    // 'datatables.net-buttons',\n    'buttons.bootstrap',\n    'buttons.html5',\n    'buttons.print',\n    'datatables.net-responsive',\n    'responsive.bootstrap',\n    'select2',\n    'adminLTE',\n    'fastclick',\n    'es6-promise',\n    'dom-checkbox',\n    'tag-it'\n    // 'smoothstate'\n  ],\n  function ($, jszip, axios, moment, pace, _, Handlebars) {\n    // window.alert(_.VERSION);\n    pace.start({\n      document: false\n    });\n\n    // $('#wrapper').smoothState({\n    //   repeatDelay: 500\n    // });\n\n    // 전역으로 선언해야 동작되는 라이브러리들을 window 객체에 할당한다.\n    window.JSZip = jszip;\n    window.axios = axios;\n    window.moment = moment;\n\n    $.widget.bridge('uibutton', $.ui.button);\n\n    // https://github.com/stefanpenner/es6-promise 참고\n    require('es6-promise').polyfill();\n\n    // show modal to reset password\n    $('.btn-modify-password').bind('click', function () {\n      $('#frm_set_employee_password .user_id').val($(this).attr('data-user-id'));\n      $('#frm_set_employee_password .user_name').val($(this).attr('data-user-name'));\n      $('#frm_set_employee_password').attr('action', $(this).attr('data-url'));\n    });\n\n    window.Handlebars = Handlebars;\n    Handlebars.registerHelper('isEquals', function (a, b) {\n      return (a === b);\n    });\n\n    $('#js--achievement-group').on('click', function () {\n      var $this = $(this);\n\n      if (!$this.hasClass('active')) {\n        window.location.href = '/achievement';\n      }\n    });\n\n    $('#js--education-group').on('click', function () {\n      var $this = $(this);\n\n      if (!$this.hasClass('active')) {\n        window.location.href = '/simple_assignment';\n      }\n    });\n\n    Handlebars.registerHelper('star-rating', function (rating) {\n      var _class = '';\n      if (rating === 0) {\n        _class = 'empty';\n      } else if (rating > 0 && rating < 1.4) {\n        _class = 'half';\n      } else if (rating > 0 && rating <= 1.4) {\n        _class = 'one';\n      } else if (rating >= 1.5 && rating < 2) {\n        _class = 'onehalf';\n      } else if (rating >= 2 && rating < 2.5) {\n        _class = 'two';\n      } else if (rating >= 2.5 && rating < 3) {\n        _class = 'twohalf';\n      } else if (rating >= 3 && rating < 3.5) {\n        _class = 'three';\n      } else if (rating >= 3.5 && rating < 4) {\n        _class = 'threehalf';\n      } else if (rating >= 4 && rating < 4.5) {\n        _class = 'four';\n      } else if (rating >= 4.5 && rating < 5) {\n        _class = 'fourhalf';\n      } else {\n        _class = ''; // full\n      }\n      return _class;\n    });\n\n    window.tinymce.init({\n      mode: 'specific_textareas',\n      editor_selector: 'editor',\n      height: 300,\n      menubar: false,\n      plugins: [\n        'advlist autolink lists link image charmap print preview anchor',\n        'searchreplace visualblocks code fullscreen',\n        'insertdatetime media table contextmenu paste code'\n      ],\n      language: 'ko_KR',\n      toolbar: 'fontselect |  fontsizeselect | undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | table',\n      // content_css: [\n      //   '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n      //   '//www.tinymce.com/css/codepen.min.css'\n      // ],\n      fontsize_formats: '8pt 10pt 12pt 14pt 18pt 24pt 36pt',\n      table_default_styles: {\n        'width': '100%',\n        'border-color': '#fff',\n        cellpadding: 5,\n        cellspacing: 5\n      },\n      editor_deselector: 'mceOthers'\n    });\n\n    // window.tinymce.init({\n    //   // selector: 'textarea',\n    //   mode: 'specific_textareas',\n    //   editor_selector: 'editor',\n    //   // theme: 'simple',\n    //   height: 100,\n    //   theme: 'modern',\n    //   plugins: [\n    //     'link image textcolor lists'\n    //             // 'advlist autolink lists link image charmap print preview hr anchor pagebreak',\n    //             // 'searchreplace wordcount visualblocks visualchars code fullscreen',\n    //             // 'insertdatetime media nonbreaking save table contextmenu directionality',\n    //             // 'emoticons template paste textcolor colorpicker textpattern imagetools codesample toc'\n    //   ],\n    //   toolbar1: 'bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image | forecolor backcolor',\n    //         // toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n    //         // toolbar2: 'print preview media | forecolor backcolor emoticons | codesample',\n    //         // image_advtab: true,\n    //   menubar: false,\n    //   statusbar: false,\n    //         // templates: [\n    //         //     { title: 'Test template 1', content: 'Test 1' },\n    //         //     { title: 'Test template 2', content: 'Test 2' }\n    //         // ],\n    //         // content_css: [\n    //         //     '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n    //         //     '//www.tinymce.com/css/codepen.min.css'\n    //         // ],\n    //   language: 'ko_KR',\n    //   valid_elements: 'i,sub,sup',\n    //   invalid_elements: 'p, script',\n    //   editor_deselector: 'mceOthers'\n    // });\n\n    return {\n\n      cutBytes: function (str, limit) {\n        var len = str.length;\n        while (this.getBytes(str) > limit) {\n          len--;\n          str = str.substring(0, len);\n        }\n        return str;\n      },\n      getBytes: function (str) {\n        var size = 0;\n        if (str !== null) {\n          for (var index = 0; index < str.length; index++) {\n            var chr = escape(str.charAt(index));\n            if (chr.indexOf('%u') !== -1) {\n              size += 2;\n            } else {\n              size++;\n            }\n          }\n        }\n        return size;\n      },\n      // text editor 를 초기화 한다.\n      initTextEditor: function (_selector, options) {\n        window.tinymce.init({\n          selector: _selector\n        });\n      },\n      initDataTable: function (element, options) {\n        var table = null;\n        var _options = {};\n\n        if (options == null) {\n          _options.order = [\n            [0, '']\n          ];\n        } else {\n          _options = options;\n        }\n        _options.deferRender = true;\n        _options.responsive = true;\n        // _options.language = { \"url\": \"https://cdn.datatables.net/plug-ins/1.10.13/i18n/Korean.json\" };\n        _options.language = {\n          'sEmptyTable': '데이터가 없습니다',\n          'sInfo': '_START_ - _END_ / _TOTAL_',\n          'sInfoEmpty': '0 - 0 / 0',\n          'sInfoFiltered': '(총 _MAX_ 개)',\n          'sInfoPostFix': '',\n          'sInfoThousands': ',',\n          'sLengthMenu': '페이지당 줄수: _MENU_',\n          'sLoadingRecords': '읽는중...',\n          'sProcessing': '처리중...',\n          'sSearch': '검색:',\n          'sZeroRecords': '검색 결과가 없습니다',\n          'oPaginate': {\n            'sFirst': '처음',\n            'sLast': '마지막',\n            'sNext': '다음',\n            'sPrevious': '이전'\n          },\n          'oAria': {\n            'sSortAscending': ': 오름차순 정렬',\n            'sSortDescending': ': 내림차순 정렬'\n          }\n        };\n        _options.dom =\n          '<\\'row\\'<\\'col-sm-3\\'l><\\'col-sm-3 text-center\\'B><\\'col-sm-6\\'f>>' +\n          '<\\'row\\'<\\'col-sm-12\\'tr>>' +\n          '<\\'row\\'<\\'col-sm-5\\'i><\\'col-sm-7\\'p>>';\n\n        if (_options.buttons == null) {\n          _options.buttons = [{\n            text: '<i class=\"fa fa-copy\"></i> 복사',\n            extend: 'copy',\n            className: 'btn-sm btn-default'\n          },\n          {\n            text: '<i class=\"fa fa-download\"></i> 엑셀',\n            extend: 'excel',\n            className: 'btn-sm btn-default'\n          },\n          {\n            text: '<i class=\"fa fa-download\"></i> CSV',\n            extend: 'csv',\n            className: 'btn-sm btn-default'\n          }\n          ];\n        }\n\n        table = element.DataTable(_options);\n\n        return table;\n      },\n      createWindowPopup: function (url, title, option) {\n        window.open(url, title, option);\n      },\n      initDateTimePicker: function (start, end) {\n        var startDt = moment().format();\n        var endDt = moment().add(7, 'days');\n\n        // 시작일자\n        start.datetimepicker({\n          defaultDate: startDt,\n          format: 'YYYY-MM-DD HH:mm'\n          // showTodayButton: true\n          // timePicker: true\n          // timePickerIncrement: 30,\n          // locale: {\n          //   format: 'YYYY-MM-DD h:mm A'\n          // }\n        });\n\n        // 종료일자\n        end.datetimepicker({\n          date: endDt,\n          format: 'YYYY-MM-DD HH:mm'\n          // useCurrent: false,\n          // showTodayButton: true\n        });\n\n        // 날짜가 서로 겹치지 않도록 설정한다.\n        start.on('dp.change', function (e) {\n          end.data('DateTimePicker').minDate(e.date);\n        });\n        end.on('dp.change', function (e) {\n          start.data('DateTimePicker').maxDate(e.date);\n        });\n      },\n      launchUri: function (uri, successCallback, noHandlerCallback, unknownCallback) {\n        var res, parent, popup, iframe, timer, timeout, blurHandler, timeoutHandler, browser;\n\n        function callback (cb) {\n          if (typeof cb === 'function') cb();\n        }\n\n        function createHiddenIframe (parent) {\n          var iframe;\n          if (!parent) parent = document.body;\n          iframe = document.createElement('iframe');\n          iframe.style.display = 'none';\n          parent.appendChild(iframe);\n          return iframe;\n        }\n\n        function removeHiddenIframe (parent) {\n          if (!iframe) return;\n          if (!parent) parent = document.body;\n          parent.removeChild(iframe);\n          iframe = null;\n        }\n\n        browser = {\n          isChrome: false,\n          isFirefox: false,\n          isIE: false,\n          isSafari: false,\n          isEdge: false\n        };\n\n        if (navigator.userAgent.match(/Edge\\//)) {\n          browser.isEdge = true;\n        } else if (window.chrome && !navigator.userAgent.match(/Opera|OPR\\//)) {\n          browser.isChrome = true;\n        } else if (typeof InstallTrigger !== 'undefined') {\n          browser.isFirefox = true;\n        } else if ('ActiveXObject' in window) {\n          browser.isIE = true;\n        } else if (navigator.userAgent.match(/Safari\\//)) {\n          browser.isSafari = true;\n        }\n\n        // Blur hack (Chrome)\n        if (browser.isChrome || browser.isEdge) {\n          blurHandler = function () {\n            window.clearTimeout(timeout);\n            window.removeEventListener('blur', blurHandler);\n            callback(successCallback);\n          };\n          timeoutHandler = function () {\n            window.removeEventListener('blur', blurHandler);\n            callback(noHandlerCallback);\n          };\n          window.addEventListener('blur', blurHandler);\n          timeout = window.setTimeout(timeoutHandler, 500);\n          window.location.href = uri;\n        } else if (navigator.msLaunchUri) {\n          // Proprietary msLaunchUri method (IE 10+ on Windows 8+)\n          navigator.msLaunchUri(uri, successCallback, noHandlerCallback);\n        } else if (browser.isFirefox) {\n          // Catch NS_ERROR_UNKNOWN_PROTOCOL exception (Firefox)\n          iframe = createHiddenIframe();\n          try {\n            // if we're still allowed to change the iframe's location, the protocol is registered\n            iframe.contentWindow.location.href = uri;\n            callback(successCallback);\n          } catch (e) {\n            if (e.name === 'NS_ERROR_UNKNOWN_PROTOCOL') {\n              callback(noHandlerCallback);\n            } else {\n              callback(unknownCallback);\n            }\n          } finally {\n            removeHiddenIframe();\n          }\n        } else if (browser.isIE) {\n          // Open popup, change location, check wether we can access the location after the change (IE on Windows < 8)\n          popup = window.open('', 'launcher', 'width=0,height=0');\n          popup.location.href = uri;\n          try {\n            // Try to change the popup's location - if it fails, the protocol isn't registered\n            // and we'll end up in the `catch` block.\n            popup.location.href = 'about:blank';\n            callback(successCallback);\n            // The user will be shown a modal dialog to allow the external application. While\n            // this dialog is open, we cannot close the popup, so we try again and again until\n            // we succeed.\n            timer = window.setInterval(function () {\n              popup.close();\n              if (popup.closed) window.clearInterval(timer);\n            }, 500);\n          } catch (e) {\n            // Regain access to the popup in order to close it.\n            popup = window.open('about:blank', 'launcher');\n            popup.close();\n            callback(noHandlerCallback);\n          }\n        } else {\n          // No hack we can use, just open the URL in an hidden iframe and invoke `unknownCallback`\n          iframe = createHiddenIframe();\n          iframe.contentWindow.location.href = uri;\n\n          blurHandler = function () {\n            window.clearTimeout(timeout);\n            window.removeEventListener('blur', blurHandler);\n            callback(successCallback);\n          };\n          timeoutHandler = function () {\n            window.removeEventListener('blur', blurHandler);\n            callback(noHandlerCallback);\n          };\n          window.addEventListener('blur', blurHandler);\n          timeout = window.setTimeout(timeoutHandler, 500);\n        }\n      },\n      launchUriTmp: function (uri, successCallback, noHandlerCallback, unknownCallback) {\n        var res, parent, popup, iframe, timer, timeout, blurHandler, timeoutHandler, browser;\n\n        function callback (cb) {\n          if (typeof cb === 'function') cb();\n        }\n\n        function createHiddenIframe (parent) {\n          var iframe;\n          if (!parent) parent = document.body;\n          iframe = document.createElement('iframe');\n          iframe.style.display = 'none';\n          parent.appendChild(iframe);\n          return iframe;\n        }\n\n        function removeHiddenIframe (parent) {\n          if (!iframe) return;\n          if (!parent) parent = document.body;\n          parent.removeChild(iframe);\n          iframe = null;\n        }\n\n        browser = {\n          isChrome: false,\n          isFirefox: false,\n          isIE: false,\n          isSafari: false,\n          isEdge: false\n        };\n\n        if (navigator.userAgent.match(/Edge\\//)) {\n          browser.isEdge = true;\n        } else if (window.chrome && !navigator.userAgent.match(/Opera|OPR\\//)) {\n          browser.isChrome = true;\n        } else if (typeof InstallTrigger !== 'undefined') {\n          browser.isFirefox = true;\n        } else if ('ActiveXObject' in window) {\n          browser.isIE = true;\n        } else if (navigator.userAgent.match(/Safari\\//)) {\n          browser.isSafari = true;\n        }\n\n        // Blur hack (Chrome)\n        if (browser.isChrome || browser.isEdge) {\n          window.location.href = uri;\n          callback(successCallback);\n        } else if (navigator.msLaunchUri) {\n          // Proprietary msLaunchUri method (IE 10+ on Windows 8+)\n          navigator.msLaunchUri(uri, successCallback, noHandlerCallback);\n        } else if (browser.isFirefox) {\n          // Catch NS_ERROR_UNKNOWN_PROTOCOL exception (Firefox)\n          iframe = createHiddenIframe();\n          try {\n            // if we're still allowed to change the iframe's location, the protocol is registered\n            iframe.contentWindow.location.href = uri;\n            callback(successCallback);\n          } catch (e) {\n            if (e.name === 'NS_ERROR_UNKNOWN_PROTOCOL') {\n              callback(noHandlerCallback);\n            } else {\n              callback(unknownCallback);\n            }\n          } finally {\n            removeHiddenIframe();\n          }\n        } else if (browser.isIE) {\n          // Open popup, change location, check wether we can access the location after the change (IE on Windows < 8)\n          popup = window.open('', 'launcher', 'width=0,height=0');\n          popup.location.href = uri;\n          try {\n            // Try to change the popup's location - if it fails, the protocol isn't registered\n            // and we'll end up in the `catch` block.\n            popup.location.href = 'about:blank';\n            callback(successCallback);\n            // The user will be shown a modal dialog to allow the external application. While\n            // this dialog is open, we cannot close the popup, so we try again and again until\n            // we succeed.\n            timer = window.setInterval(function () {\n              popup.close();\n              if (popup.closed) window.clearInterval(timer);\n            }, 500);\n          } catch (e) {\n            // Regain access to the popup in order to close it.\n            popup = window.open('about:blank', 'launcher');\n            popup.close();\n            callback(noHandlerCallback);\n          }\n        } else {\n          // No hack we can use, just open the URL in an hidden iframe and invoke `unknownCallback`\n          iframe = createHiddenIframe();\n          iframe.contentWindow.location.href = uri;\n          callback(successCallback);\n        }\n      }\n    };\n  }); // end of func\n"],"sourceRoot":"/source/"}