{"version":3,"sources":["common.js"],"names":["window","define","pace","document","widget","require","$","jszip","axios","moment","_","Handlebars","start","$this","hasClass","location","bridge","ui","button","polyfill","bind","val","this","attr","rating","_class","registerHelper","a","b","on","tinymce","editor_selector","fontsize_formats","table_default_styles","cellpadding","cellspacing","editor_deselector","init","mode","height","menubar","plugins","language","toolbar","width","border-color","initDataTable","str","limit","table","length","_options","len","options","getBytes","deferRender","responsive","index","charAt","chr","indexOf","size","initTextEditor","_selector","selector","element","order","extend","className","sInfo","text","sInfoThousands","sSearch","sZeroRecords","oPaginate","sLast","sNext","sPrevious","sSortAscending","initDateTimePicker","dom","buttons","datetimepicker","date","DataTable","createWindowPopup","url","title","option","open","end","startDt","format","endDt","add","defaultDate","e","data","minDate","maxDate"],"mappings":"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","file":"common.js","sourcesContent":["/**\n * Created by yijaejun on 30/11/2016.\n */\n'use strict';\nwindow.define(\n  [\n    'jquery',\n    'jszip',\n    'axios',\n    'moment',\n    'pace',\n    'lodash',\n    'handlebars',\n    'tinymce',\n    'bootstrap',\n    'bootstrap_datetimepicker',\n    'jquery-ui',\n    'datatables.net',\n    'datatables.net-bs',\n    // 'datatables.net-buttons',\n    'buttons.bootstrap',\n    'buttons.html5',\n    'buttons.print',\n    'datatables.net-responsive',\n    'responsive.bootstrap',\n    'select2',\n    'adminLTE',\n    'fastclick',\n    'es6-promise',\n    'dom-checkbox',\n    'tag-it'\n    // 'smoothstate'\n  ],\nfunction ($, jszip, axios, moment, pace, _, Handlebars) {\n  // window.alert(_.VERSION);\n  pace.start({\n    document: false\n  });\n\n  // $('#wrapper').smoothState({\n  //   repeatDelay: 500\n  // });\n\n  // 전역으로 선언해야 동작되는 라이브러리들을 window 객체에 할당한다.\n  window.JSZip = jszip;\n  window.axios = axios;\n  window.moment = moment;\n\n  $.widget.bridge('uibutton', $.ui.button);\n\n  // https://github.com/stefanpenner/es6-promise 참고\n  require('es6-promise').polyfill();\n\n  // show modal to reset password\n  $('.btn-modify-password').bind('click', function () {\n    $('#frm_set_employee_password .user_id').val($(this).attr('data-user-id'));\n    $('#frm_set_employee_password .user_name').val($(this).attr('data-user-name'));\n    $('#frm_set_employee_password').attr('action', $(this).attr('data-url'));\n  });\n\n  window.Handlebars = Handlebars;\n  Handlebars.registerHelper('isEquals', function (a, b) {\n    return (a === b);\n  });\n\n  $('#js--achievement-group').on('click', function () {\n    var $this = $(this);\n\n    if (!$this.hasClass('active')) {\n      window.location.href = '/achievement';\n    }\n  });\n\n  $('#js--education-group').on('click', function () {\n    var $this = $(this);\n\n    if (!$this.hasClass('active')) {\n      window.location.href = '/simple_assignment';\n    }\n  });\n\n  Handlebars.registerHelper('star-rating', function (rating) {\n    var _class = '';\n    if (rating === 0) {\n      _class = 'empty';\n    } else if (rating > 0 && rating < 1.4) {\n      _class = 'half';\n    } else if (rating > 0 && rating <= 1.4) {\n      _class = 'one';\n    } else if (rating >= 1.5 && rating < 2) {\n      _class = 'onehalf';\n    } else if (rating >= 2 && rating < 2.5) {\n      _class = 'two';\n    } else if (rating >= 2.5 && rating < 3) {\n      _class = 'twohalf';\n    } else if (rating >= 3 && rating < 3.5) {\n      _class = 'three';\n    } else if (rating >= 3.5 && rating < 4) {\n      _class = 'threehalf';\n    } else if (rating >= 4 && rating < 4.5) {\n      _class = 'four';\n    } else if (rating >= 4.5 && rating < 5) {\n      _class = 'fourhalf';\n    } else {\n      _class = ''; // full\n    }\n    return _class;\n  });\n\n  window.tinymce.init({\n    mode: 'specific_textareas',\n    editor_selector: 'editor',\n    height: 300,\n    menubar: false,\n    plugins: [\n      'advlist autolink lists link image charmap print preview anchor',\n      'searchreplace visualblocks code fullscreen',\n      'insertdatetime media table contextmenu paste code'\n    ],\n    language: 'ko_KR',\n    toolbar: 'fontselect |  fontsizeselect | undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | table',\n    // content_css: [\n    //   '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n    //   '//www.tinymce.com/css/codepen.min.css'\n    // ],\n    fontsize_formats: '8pt 10pt 12pt 14pt 18pt 24pt 36pt',\n    table_default_styles: {\n      'width': '100%',\n      'border-color': '#fff',\n      cellpadding: 5,\n      cellspacing: 5\n    },\n    editor_deselector: 'mceOthers'\n  });\n\n  // window.tinymce.init({\n  //   // selector: 'textarea',\n  //   mode: 'specific_textareas',\n  //   editor_selector: 'editor',\n  //   // theme: 'simple',\n  //   height: 100,\n  //   theme: 'modern',\n  //   plugins: [\n  //     'link image textcolor lists'\n  //             // 'advlist autolink lists link image charmap print preview hr anchor pagebreak',\n  //             // 'searchreplace wordcount visualblocks visualchars code fullscreen',\n  //             // 'insertdatetime media nonbreaking save table contextmenu directionality',\n  //             // 'emoticons template paste textcolor colorpicker textpattern imagetools codesample toc'\n  //   ],\n  //   toolbar1: 'bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image | forecolor backcolor',\n  //         // toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n  //         // toolbar2: 'print preview media | forecolor backcolor emoticons | codesample',\n  //         // image_advtab: true,\n  //   menubar: false,\n  //   statusbar: false,\n  //         // templates: [\n  //         //     { title: 'Test template 1', content: 'Test 1' },\n  //         //     { title: 'Test template 2', content: 'Test 2' }\n  //         // ],\n  //         // content_css: [\n  //         //     '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n  //         //     '//www.tinymce.com/css/codepen.min.css'\n  //         // ],\n  //   language: 'ko_KR',\n  //   valid_elements: 'i,sub,sup',\n  //   invalid_elements: 'p, script',\n  //   editor_deselector: 'mceOthers'\n  // });\n\n  return {\n\n    cutBytes: function (str, limit) {\n      var len = str.length;\n      while (this.getBytes(str) > limit) {\n        len--;\n        str = str.substring(0, len);\n      }\n      return str;\n    },\n    getBytes: function (str) {\n      var size = 0;\n      if (str !== null) {\n        for (var index = 0; index < str.length; index++) {\n          var chr = escape(str.charAt(index));\n          if (chr.indexOf('%u') !== -1) {\n            size += 2;\n          } else {\n            size++;\n          }\n        }\n      }\n      return size;\n    },\n    // text editor 를 초기화 한다.\n    initTextEditor: function (_selector, options) {\n      window.tinymce.init({\n        selector: _selector\n      });\n    },\n    initDataTable: function (element, options) {\n      var table = null;\n      var _options = {};\n\n      if (options == null) {\n        _options.order = [[ 0, '' ]];\n      } else {\n        _options = options;\n      }\n      _options.deferRender = true;\n      _options.responsive = true;\n      // _options.language = { \"url\": \"https://cdn.datatables.net/plug-ins/1.10.13/i18n/Korean.json\" };\n      _options.language = {\n        'sEmptyTable': '데이터가 없습니다',\n        'sInfo': '_START_ - _END_ / _TOTAL_',\n        'sInfoEmpty': '0 - 0 / 0',\n        'sInfoFiltered': '(총 _MAX_ 개)',\n        'sInfoPostFix': '',\n        'sInfoThousands': ',',\n        'sLengthMenu': '페이지당 줄수: _MENU_',\n        'sLoadingRecords': '읽는중...',\n        'sProcessing': '처리중...',\n        'sSearch': '검색:',\n        'sZeroRecords': '검색 결과가 없습니다',\n        'oPaginate': {\n          'sFirst': '처음',\n          'sLast': '마지막',\n          'sNext': '다음',\n          'sPrevious': '이전'\n        },\n        'oAria': {\n          'sSortAscending': ': 오름차순 정렬',\n          'sSortDescending': ': 내림차순 정렬'\n        }\n      };\n      _options.dom =\n        '<\\'row\\'<\\'col-sm-3\\'l><\\'col-sm-3 text-center\\'B><\\'col-sm-6\\'f>>' +\n        '<\\'row\\'<\\'col-sm-12\\'tr>>' +\n        '<\\'row\\'<\\'col-sm-5\\'i><\\'col-sm-7\\'p>>';\n\n      if (_options.buttons == null) {\n        _options.buttons = [\n          {\n            text: '<i class=\"fa fa-copy\"></i> 복사',\n            extend: 'copy',\n            className: 'btn-sm btn-default'\n          },\n          {\n            text: '<i class=\"fa fa-download\"></i> 엑셀',\n            extend: 'excel',\n            className: 'btn-sm btn-default'\n          },\n          {\n            text: '<i class=\"fa fa-download\"></i> CSV',\n            extend: 'csv',\n            className: 'btn-sm btn-default'\n          }\n        ];\n      }\n\n      table = element.DataTable(_options);\n\n      return table;\n    },\n    createWindowPopup: function (url, title, option) {\n      window.open(url, title, option);\n    },\n    initDateTimePicker: function (start, end) {\n      var startDt = moment().format();\n      var endDt = moment().add(7, 'days');\n\n      // 시작일자\n      start.datetimepicker({\n        defaultDate: startDt,\n        format: 'YYYY-MM-DD HH:mm'\n        // showTodayButton: true\n        // timePicker: true\n        // timePickerIncrement: 30,\n        // locale: {\n        //   format: 'YYYY-MM-DD h:mm A'\n        // }\n      });\n\n      // 종료일자\n      end.datetimepicker({\n        date: endDt,\n        format: 'YYYY-MM-DD HH:mm'\n        // useCurrent: false,\n        // showTodayButton: true\n      });\n\n      // 날짜가 서로 겹치지 않도록 설정한다.\n      start.on('dp.change', function (e) {\n        end.data('DateTimePicker').minDate(e.date);\n      });\n      end.on('dp.change', function (e) {\n        start.data('DateTimePicker').maxDate(e.date);\n      });\n    }\n  };\n}); // end of func\n"],"sourceRoot":"/source/"}