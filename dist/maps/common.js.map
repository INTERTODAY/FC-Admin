{"version":3,"sources":["common.js"],"names":["window","define","pace","document","widget","$","jszip","axios","moment","_","Handlebars","size","start","JSZip","$this","hasClass","ui","button","require","polyfill","bind","val","this","attr","registerHelper","a","rating","_class","b","on","cellspacing","init","editor_selector","fontsize_formats","table_default_styles","tinymce","mode","height","menubar","plugins","language","toolbar","width","border-color","cellpadding","editor_deselector","testSetInterval","clearInterval","timerid","test","setInterval","initTextEditor","cutBytes","str","limit","initDataTable","len","length","getBytes","table","_options","options","deferRender","index","responsive","charAt","chr","indexOf","_selector","selector","element","order","buttons","extend","className","sInfo","text","sInfoThousands","sSearch","sZeroRecords","oPaginate","DataTable","sLast","sNext","sPrevious","sSortAscending","initDateTimePicker","dom","datetimepicker","createWindowPopup","url","title","option","getOSName","open","end","navigator","appVersion","defaultDate","startDt","format","date","endDt","e","data","minDate","maxDate","OSName"],"mappings":"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","file":"common.js","sourcesContent":["/**\n * Created by yijaejun on 30/11/2016.\n */\n'use strict';\nwindow.define(\n  [\n    'jquery',\n    'jszip',\n    'axios',\n    'moment',\n    'pace',\n    'lodash',\n    'handlebars',\n    'tinymce',\n    'bootstrap',\n    'bootstrap_datetimepicker',\n    'jquery-ui',\n    'datatables.net',\n    'datatables.net-bs',\n    // 'datatables.net-buttons',\n    'buttons.bootstrap',\n    'buttons.html5',\n    'buttons.print',\n    'datatables.net-responsive',\n    'responsive.bootstrap',\n    'select2',\n    'adminLTE',\n    // 'fastclick',\n    'es6-promise',\n    // 'dom-checkbox',\n    'tag-it'\n    // 'smoothstate'\n  ],\n  function ($, jszip, axios, moment, pace, _, Handlebars) {\n    // window.alert(_.VERSION);\n    pace.start({\n      document: false\n    });\n\n    // $('#wrapper').smoothState({\n    //   repeatDelay: 500\n    // });\n\n    // 전역으로 선언해야 동작되는 라이브러리들을 window 객체에 할당한다.\n    window.JSZip = jszip;\n    window.axios = axios;\n    window.moment = moment;\n\n    $.widget.bridge('uibutton', $.ui.button);\n\n    // https://github.com/stefanpenner/es6-promise 참고\n    require('es6-promise').polyfill();\n\n    // show modal to reset password\n    $('.btn-modify-password').bind('click', function () {\n      $('#frm_set_employee_password .user_id').val($(this).attr('data-user-id'));\n      $('#frm_set_employee_password .user_name').val($(this).attr('data-user-name'));\n      $('#frm_set_employee_password').attr('action', $(this).attr('data-url'));\n    });\n\n    window.Handlebars = Handlebars;\n    Handlebars.registerHelper('isEquals', function (a, b) {\n      return (a === b);\n    });\n\n    $('#js--achievement-group').on('click', function () {\n      var $this = $(this);\n\n      if (!$this.hasClass('active')) {\n        window.location.href = '/achievement';\n      }\n    });\n\n    $('#js--education-group').on('click', function () {\n      var $this = $(this);\n\n      if (!$this.hasClass('active')) {\n        window.location.href = '/simple_assignment';\n      }\n    });\n\n    Handlebars.registerHelper('star-rating', function (rating) {\n      var _class = '';\n      if (rating === 0) {\n        _class = 'empty';\n      } else if (rating > 0 && rating < 1.4) {\n        _class = 'half';\n      } else if (rating > 0 && rating <= 1.4) {\n        _class = 'one';\n      } else if (rating >= 1.5 && rating < 2) {\n        _class = 'onehalf';\n      } else if (rating >= 2 && rating < 2.5) {\n        _class = 'two';\n      } else if (rating >= 2.5 && rating < 3) {\n        _class = 'twohalf';\n      } else if (rating >= 3 && rating < 3.5) {\n        _class = 'three';\n      } else if (rating >= 3.5 && rating < 4) {\n        _class = 'threehalf';\n      } else if (rating >= 4 && rating < 4.5) {\n        _class = 'four';\n      } else if (rating >= 4.5 && rating < 5) {\n        _class = 'fourhalf';\n      } else {\n        _class = ''; // full\n      }\n      return _class;\n    });\n\n    window.tinymce.init({\n      mode: 'specific_textareas',\n      editor_selector: 'editor',\n      height: 300,\n      menubar: false,\n      plugins: [\n        'advlist autolink lists link image charmap print preview anchor',\n        'searchreplace visualblocks code fullscreen',\n        'insertdatetime media table contextmenu paste code'\n      ],\n      language: 'ko_KR',\n      toolbar: 'fontselect |  fontsizeselect | undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | table',\n      // content_css: [\n      //   '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n      //   '//www.tinymce.com/css/codepen.min.css'\n      // ],\n      fontsize_formats: '8pt 10pt 12pt 14pt 18pt 24pt 36pt',\n      table_default_styles: {\n        'width': '100%',\n        'border-color': '#fff',\n        cellpadding: 5,\n        cellspacing: 5\n      },\n      editor_deselector: 'mceOthers'\n    });\n\n    // window.tinymce.init({\n    //   // selector: 'textarea',\n    //   mode: 'specific_textareas',\n    //   editor_selector: 'editor',\n    //   // theme: 'simple',\n    //   height: 100,\n    //   theme: 'modern',\n    //   plugins: [\n    //     'link image textcolor lists'\n    //             // 'advlist autolink lists link image charmap print preview hr anchor pagebreak',\n    //             // 'searchreplace wordcount visualblocks visualchars code fullscreen',\n    //             // 'insertdatetime media nonbreaking save table contextmenu directionality',\n    //             // 'emoticons template paste textcolor colorpicker textpattern imagetools codesample toc'\n    //   ],\n    //   toolbar1: 'bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | link image | forecolor backcolor',\n    //         // toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n    //         // toolbar2: 'print preview media | forecolor backcolor emoticons | codesample',\n    //         // image_advtab: true,\n    //   menubar: false,\n    //   statusbar: false,\n    //         // templates: [\n    //         //     { title: 'Test template 1', content: 'Test 1' },\n    //         //     { title: 'Test template 2', content: 'Test 2' }\n    //         // ],\n    //         // content_css: [\n    //         //     '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n    //         //     '//www.tinymce.com/css/codepen.min.css'\n    //         // ],\n    //   language: 'ko_KR',\n    //   valid_elements: 'i,sub,sup',\n    //   invalid_elements: 'p, script',\n    //   editor_deselector: 'mceOthers'\n    // });\n\n    return {\n      testSetInterval: function () {\n        console.log(this.timerid);\n        clearInterval(this.timerid);\n      },\n      test: function () {\n        this.timerid = 0;\n        this.timerid = setInterval(\n          this.testSetInterval.bind(this)\n        , 1000);\n      },\n\n      cutBytes: function (str, limit) {\n        var len = str.length;\n        while (this.getBytes(str) > limit) {\n          len--;\n          str = str.substring(0, len);\n        }\n        return str;\n      },\n      getBytes: function (str) {\n        var size = 0;\n        if (str !== null) {\n          for (var index = 0; index < str.length; index++) {\n            var chr = escape(str.charAt(index));\n            if (chr.indexOf('%u') !== -1) {\n              size += 2;\n            } else {\n              size++;\n            }\n          }\n        }\n        return size;\n      },\n      // text editor 를 초기화 한다.\n      initTextEditor: function (_selector, options) {\n        window.tinymce.init({\n          selector: _selector\n        });\n      },\n      initDataTable: function (element, options) {\n        var table = null;\n        var _options = {};\n\n        if (options == null) {\n          _options.order = [\n            [0, '']\n          ];\n        } else {\n          _options = options;\n        }\n        _options.deferRender = true;\n        _options.responsive = true;\n        // _options.language = { \"url\": \"https://cdn.datatables.net/plug-ins/1.10.13/i18n/Korean.json\" };\n        _options.language = {\n          'sEmptyTable': '데이터가 없습니다',\n          'sInfo': '_START_ - _END_ / _TOTAL_',\n          'sInfoEmpty': '0 - 0 / 0',\n          'sInfoFiltered': '(총 _MAX_ 개)',\n          'sInfoPostFix': '',\n          'sInfoThousands': ',',\n          'sLengthMenu': '페이지당 줄수: _MENU_',\n          'sLoadingRecords': '읽는중...',\n          'sProcessing': '처리중...',\n          'sSearch': '검색:',\n          'sZeroRecords': '검색 결과가 없습니다',\n          'oPaginate': {\n            'sFirst': '처음',\n            'sLast': '마지막',\n            'sNext': '다음',\n            'sPrevious': '이전'\n          },\n          'oAria': {\n            'sSortAscending': ': 오름차순 정렬',\n            'sSortDescending': ': 내림차순 정렬'\n          }\n        };\n        _options.dom =\n          '<\\'row\\'<\\'col-sm-3\\'l><\\'col-sm-3 text-center\\'B><\\'col-sm-6\\'f>>' +\n          '<\\'row\\'<\\'col-sm-12\\'tr>>' +\n          '<\\'row\\'<\\'col-sm-5\\'i><\\'col-sm-7\\'p>>';\n\n        if (_options.buttons == null) {\n          _options.buttons = [{\n            text: '<i class=\"fa fa-copy\"></i> 복사',\n            extend: 'copy',\n            className: 'btn-sm btn-default'\n          },\n          {\n            text: '<i class=\"fa fa-download\"></i> 엑셀',\n            extend: 'excel',\n            className: 'btn-sm btn-default'\n          },\n          {\n            text: '<i class=\"fa fa-download\"></i> CSV',\n            extend: 'csv',\n            className: 'btn-sm btn-default'\n          }\n          ];\n        }\n\n        table = element.DataTable(_options);\n\n        return table;\n      },\n      createWindowPopup: function (url, title, option) {\n        window.open(url, title, option);\n      },\n      initDateTimePicker: function (start, end) {\n        var startDt = moment().format();\n        var endDt = moment().add(7, 'days');\n\n        // 시작일자\n        start.datetimepicker({\n          defaultDate: startDt,\n          format: 'YYYY-MM-DD HH:mm'\n          // showTodayButton: true\n          // timePicker: true\n          // timePickerIncrement: 30,\n          // locale: {\n          //   format: 'YYYY-MM-DD h:mm A'\n          // }\n        });\n\n        // 종료일자\n        end.datetimepicker({\n          date: endDt,\n          format: 'YYYY-MM-DD HH:mm'\n          // useCurrent: false,\n          // showTodayButton: true\n        });\n\n        // 날짜가 서로 겹치지 않도록 설정한다.\n        start.on('dp.change', function (e) {\n          end.data('DateTimePicker').minDate(e.date);\n        });\n        end.on('dp.change', function (e) {\n          start.data('DateTimePicker').maxDate(e.date);\n        });\n      },\n      getOSName: function () {\n        var OSName = 'Unknown OS';\n\n        if (navigator.appVersion.indexOf('Win') !== -1) OSName = 'Windows';\n        if (navigator.appVersion.indexOf('Mac') !== -1) OSName = 'MacOS';\n        if (navigator.appVersion.indexOf('X11') !== -1) OSName = 'UNIX';\n        if (navigator.appVersion.indexOf('Linux') !== -1) OSName = 'Linux';\n\n        return OSName;\n      }\n    };\n  }); // end of func\n"],"sourceRoot":"/source/"}